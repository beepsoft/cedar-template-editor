<div class="template-header">
  <div class="container">
    <div class="row">
      <div class="left-sidebar col-sm-3">
        <div id="element-name-container">
          <i class="cedar-svg-element"></i>
          <div class="form-group floating-label-wrapper">
            <input type="text" class="form-control" id="element-name" placeholder="{{'GENERIC.ElementName' | translate}}" aria-label="{{'GENERIC.ElementName' | translate}}" ng-model="element.properties._ui.title" with-floating-label>
          </div>
        </div>
      </div> <!-- /.left-sidebar -->
      <div class="right-body col-sm-8">
        <div id="element-description-container">
          <div class="form-group floating-label-wrapper">
            <input type="text" class="form-control" id="element-description" placeholder="{{'GENERIC.ElementDescription' | translate}}" aria-label="{{'GENERIC.ElementDescription' | translate}}" ng-model="element.properties._ui.description" with-floating-label>
          </div>
        </div>
      </div> <!-- /.right-body -->
      <div class="right-body col-sm-1">
        <div id="element-controlled-term-container">
          <div class="toggle-controlled-term">
            <i class="cedar-svg-controll-term collapsed" data-toggle="modal" data-target="#element_control_term"></i>
          </div>
        </div> <!-- /#element-controlled-term-container -->
      </div> <!-- /.right-body -->
    </div> <!-- /.row -->
    <div class="row">
      <div class="modal fade controlled-terms-modal" id="element_control_term">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
              <div control-term field="element" options="{filterSelection: 'field'}"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> <!-- /.container -->
</div> <!-- /.template-header -->

<div class="template-body">
  <div class="container">
    <div class="row">
      <div class="left-sidebar col-sm-3">
        <div id="stickyFix"></div>
        <div class="sidebar-inner" cedar-sticky-left-menu="true">
          <p class="add-item" translate>GENERIC.AddField</p>
          <ul class="element-menu fields-list" role="menu">
            <li class="item" ng-repeat="fieldType in fieldTypes">
              <a ng-if="fieldType.allowedInElement" ng-click="addFieldToStaging(fieldType.cedarType)"><i class="{{fieldType.iconClass}}"></i><span translate>{{"FIELDS.FIELD_TYPE." + fieldType.cedarType + ".NAME"}}</span></a>
            </li>
          </ul>

          <div class="more-items" dropdown>
            <button type="button" class="btn btn-more-items dropdown-toggle" data-toggle="dropdown" data-target=".element-menu" aria-expanded="false" dropdown-toggle>
              <span translate>GENERIC.AddAnElement</span> <i class="fa fa-angle-down fa-2x"></i>
            </button>
            <ul class="dropdown-menu element-menu elements-list" role="menu">
              <li ng-repeat="element in elementList | orderBy:'title'" class="item"><a ng-click="addElementToStaging(element['@id'])"><i class="cedar-svg-element"></i>{{element.properties._ui.title}}</a></li>
            </ul>
          </div>
        </div> <!-- /.sticky-list -->
      </div> <!-- /.left-sidebar -->

      <div class="right-body col-sm-9">
        <div id="form-preview-section">
          <div class="form-preview collapse in">
            <div class="empty-text" ng-show="isPropertiesEmpty()">
              <p translate>CREATOR.addElementToStagingMsg</p>
            </div>
            <form-preview form="element" ng-if="element"></form-preview>
          </div><!-- /.form-preview -->
        </div> <!-- /#form-preview-section -->

        <div id="form-item-config-section" class="animate-fade" ng-show="$root.stagingVisible">
          <div ng-if="stagingErrorMessages.length" class="alert alert-danger" role="alert">
            <p ng-repeat="message in stagingErrorMessages"><i class="fa fa-exclamation-triangle"></i>{{message}}</p>
          </div>
          <form name="{{form.properties._ui.title}}" id="{{form.guid}}">
            <div ng-repeat="field in staging" class="animate-fade" ng-class="{'adding-element': !field.properties._ui.inputType}">
              <div ng-if="!field.properties._ui.inputType">
                <form-preview form="previewForm">
                </form-preview>
              </div>
              <field-directive field="field" directory="create" delete="deleteField(field)" add="addFieldToElement(field)" option="addOption(field)">
              </field-directive>
            </div>
          </form>
        </div> <!-- /#form-item-config-section -->

        <div class="element-actions">
          <div ng-if="elementErrorMessages.length" class="alert alert-danger" role="alert">
            <p ng-repeat="message in elementErrorMessages"><i class="fa fa-exclamation-triangle"></i>{{message}}</p>
          </div>
          <div ng-if="elementSuccessMessages.length" class="alert alert-success" role="alert">
            <p ng-repeat="message in elementSuccessMessages"><i class="fa fa-check"></i>{{message}}</p>
          </div>
          <!--<div class="favorite {{favorite}}" ng-click="toggleFavorite()">-->
            <!--<i class="cedar-svg-flag"></i><span>Favorite</span>-->
          <!--</div>-->
          <div class="clear-save">
            <button type="button" class="btn btn-clear" ng-click="reset()" translate>GENERIC.Clear</button>
            <button type="button" class="btn btn-save" ng-click="saveElement()" translate>GENERIC.SaveElement</button>
          </div>
        </div> <!-- /.template-actions -->
      </div> <!-- /.right-body -->
    </div> <!-- /.row -->
  </div> <!-- /.container -->
</div> <!-- /.template-body -->
