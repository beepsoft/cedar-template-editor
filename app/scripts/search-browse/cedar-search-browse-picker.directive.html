<div class="controls-bar clearfix row-fluid navbar-fixed-top " ng-class="{'as-modal': !dc.onDashboard()}">
  <!--<div style="position:absolute;width:300px;">-->
  <!--<ul class="list-inline ">-->
  <!--<li ng-if="dc.onDashboard()">-->
  <!--<button-->
  <!--type="button"-->
  <!--tooltip="filter results"-->
  <!--tooltip-trigger-->
  <!--tooltip-animation="false"-->
  <!--tooltip-placement="top"-->
  <!--data-toggle="tooltip"-->
  <!--ng-click="dc.toggleFilters()"><i class="fa fa-filter graytext"></i></button>-->
  <!--</li>-->
  <!--</ul>-->
  <!--</div>-->

  <div class="breadcrumbs-sb ">
    <p ng-if="dc.isSearching">
      <span class="search-result">Search Results For: '{{dc.searchTerm}}' </span>
    </p>

    <p ng-if="!dc.isSearching">
            <span ng-repeat="folder in dc.pathInfo">
              <a ng-click="dc.goToFolder(folder['@id'])"
                  class="breadcrumbs">{{dc.breadcrumbName(folder.displayName)}}</a> /
            </span>
      <a class="breadcrumbs">{{dc.breadcrumbName(dc.currentPath.displayName)}}</a>

    </p>
  </div>

  <div style="float:right" class=" list-inline" id="workspace-toolbar">
    <ul class="list-inline pull-right">
      <li ng-if="dc.onDashboard() && dc.hasSelection()" id="delete-tool">
        <button
            type="button"
            tooltip="delete selection"
            tooltip-trigger
            tooltip-animation="false"
            tooltip-placement="bottom"
            data-toggle="tooltip"
            ng-click="dc.deleteResource()"><i class="fa fa-trash "></i></button>
      </li>
      <li ng-if="dc.onDashboard() && dc.hasSelection()" id="more-options-tool">
        <div class="btn-group dropdown">
          <button data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i
              class="fa fa-ellipsis-v  inline "></i></button>
          <ul class="dropdown-menu dropdown-menu-right">

            <li ng-if="dc.isFolder()"><a href="#" ng-click="dc.goToResource()">Open</a></li>
            <li ng-if="dc.isTemplate()"><a href="#" ng-click="dc.launchInstance()">Populate</a></li>
            <li ng-if="!dc.isFolder()"><a href="#" ng-click="dc.editResource()">Edit</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#" data-toggle="modal" ng-click="dc.openShare(resource)"
                data-target="#shareResourceModal">Share...</a></li>
            <li><a href="#" ng-click="dc.showMoveResourceModal('#moveResourceModal')">Move to...</a></li>
            <li><a href="#" data-toggle="modal" data-target="#renameResourceModal">Rename...</a></li>
            <li ng-if="!dc.isFolder()"><a href="#" ng-click="dc.copyResource()">Copy</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="#" ng-click="dc.deleteResource(resource)">Delete</a></li>
          </ul>
        </div>
      </li>

      <li ng-if="dc.onDashboard() && dc.hasSelection()" class="inline divider-vertical "></li>

      <li ng-show="dc.onDashboard() && dc.resourceViewMode != 'grid'" id="grid-view-tool">
        <button
            type="button"
            tooltip="view as grid"
            tooltip-trigger
            tooltip-animation="false"
            tooltip-placement="bottom"
            data-toggle="tooltip"
            ng-click="dc.setResourceViewMode('grid')"><i
            class="fa fa-th inline"></i></button>
      </li>

      <li ng-show="dc.onDashboard() && dc.resourceViewMode != 'list'" id="list-view-tool">
        <button type="button"
            tooltip="view as list"
            tooltip-trigger
            tooltip-animation="false"
            tooltip-placement="bottom"
            data-toggle="tooltip"
            ng-click="dc.setResourceViewMode('list')"><i
            class="fa fa-list-ul inline "></i></button>
      </li>


      <li ng-show="!dc.infoShowing()" ng-if="dc.onDashboard()" id="details-view-tool">
        <button type="button"
            tooltip="view details"
            tooltip-trigger
            tooltip-animation="false"
            tooltip-placement="bottom"
            data-toggle="tooltip"
            ng-click="dc.toggleInfoPanel()"><i class="fa fa-info "></i></button>
      </li>

      <li ng-show="dc.infoShowing()" ng-if="dc.onDashboard()" id="details-hide-tool">
        <button type="button"
            tooltip="hide details"
            tooltip-trigger
            tooltip-animation="false"
            tooltip-placement="bottom"
            data-toggle="tooltip"
            ng-click="dc.toggleInfoPanel()"><i class="fa fa-info "></i></button>
      </li>

      <li ng-if="dc.onDashboard()" id="workspace-sort-tool">
        <div class="btn-group dropdown">
          <button data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i
              class="fa fa-sort  inline "></i></button>
          <ul class="dropdown-menu dropdown-menu-right">
            <li><a ng-click="dc.setSortOption('name')"><i class="fa fa-check" ng-class="dc.sortName()"></i><span
                translate="DASHBOARD.sort.name"></span></a></li>
            <li><a ng-click="dc.setSortOption('createdOnTS')"><i class="fa fa-check"
                ng-class="dc.sortCreated()"></i><span translate="DASHBOARD.sort.createdOnTS"></span></a></li>
            <li><a ng-click="dc.setSortOption('lastUpdatedOnTS')"><i class="fa fa-check"
                ng-class="dc.sortUpdated()"></i><span
                translate="DASHBOARD.sort.lastUpdatedOnTS"></span></a>
            </li>
          </ul>
        </div>
      </li>

      <li ng-if="dc.onDashboard()" id="user-tool">
        <div class="btn-group dropdown">
          <button data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i
              class="fa fa-user inline "></i></button>
          <ul class="dropdown-menu dropdown-menu-right">
            <li id="user-profile-tool"><a href="/profile">Profile</a></li>
            <li id="user-logout-tool"><a href="/logout">Logout</a></li>
          </ul>
        </div>
      </li>
    </ul>
  </div>
</div>


<!--gray populate a form modal slide up/down section -->
<!--<section ng-if="dc.onDashboard()" class="form-populate collapse in" id="favorites">-->
<!--&lt;!&ndash; container &ndash;&gt;-->
<!--<div class="container">-->
<!--<div class="row">-->
<!--<div class="col-sm-12 clearfix">-->
<!--<div class="pull-left">-->
<!--<h4>Populate a form</h4>-->
<!--</div>-->
<!--<div class="pull-right">-->
<!--<p><a href="#fsModal" data-toggle="modal">More <i class="fa fa-arrow-down"></i></a></p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--&lt;!&ndash; template boxes (4 columns) &ndash;&gt;-->
<!--<div class="row populate-form-boxes">-->
<!--<div class="col-md-3 col-sm-6" ng-repeat="(key, form) in dc.forms" ng-show="key < 4">-->
<!--<div rightclick offsetX="30" offsetY="5" dropdownId="{{getId(form, 'minipopulate')}}"-->
<!--ng-click="dc.launchInstance(form)" class="form-box">-->
<!--<a href="#n" class="box-content text-center">-->
<!--<i ng-class="dc.getResourceIconClass(form)" class="fa"></i>-->

<!--<p>{{ form.name }}</p>-->

<!--<p>{{ form.description }}</p>-->
<!--</a>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--&lt;!&ndash; template boxes (4 columns) &ndash;&gt;-->
<!--</div>-->
<!--&lt;!&ndash; container &ndash;&gt;-->
<!--&lt;!&ndash; modal &ndash;&gt;-->
<!--<div id="fsModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">-->
<!--&lt;!&ndash; dialog &ndash;&gt;-->
<!--<div class="modal-dialog">-->
<!--&lt;!&ndash; content &ndash;&gt;-->
<!--<div class="modal-content">-->
<!--&lt;!&ndash; header &ndash;&gt;-->
<!--<div class="modal-header">-->
<!--<div class="container" style="height:200px">-->
<!--<div class="row">-->
<!--<div class="col-sm-12 clearfix">-->
<!--<div class="pull-left">-->
<!--<h4>Populate a form</h4>-->
<!--</div>-->
<!--<div class="pull-right">-->
<!--<p><a href="#n" data-dismiss="modal">Less <i class="fa fa-arrow-up"></i></a></p>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--&lt;!&ndash; header &ndash;&gt;-->
<!--&lt;!&ndash; body &ndash;&gt;-->
<!--<div class="modal-body">-->
<!--<div class="container">-->
<!--<div class="row populate-form-boxes">-->
<!--<div class="col-md-3 col-sm-6" ng-repeat="(key, form) in dc.forms">-->
<!--<div ng-click="dc.selectResource(form)" ng-dblclick="dc.launchInstance(form)" class="form-box">-->
<!--<div ng-click="dc.launchInstance(form); hideModal('fsModal')">-->
<!--<a href="#n" rightclick offsetX="30" offsetY="5" dropdownId="{{getId(form,'fullpopulate')}}"-->
<!--class="box-content text-center">-->
<!--<i ng-class="dc.getResourceIconClass(form)" class="fa"></i>-->

<!--<p>{{ form.name }}</p>-->
<!--</a>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--&lt;!&ndash; body &ndash;&gt;-->
<!--&lt;!&ndash; footer &ndash;&gt;-->
<!--<div class="modal-footer"></div>-->
<!--&lt;!&ndash;<div class="modal-footer"></div>&ndash;&gt;-->
<!--&lt;!&ndash; footer &ndash;&gt;-->
<!--</div>-->
<!--&lt;!&ndash; content &ndash;&gt;-->
<!--</div>-->
<!--&lt;!&ndash; dialog &ndash;&gt;-->
<!--</div>-->
<!--&lt;!&ndash; modal &ndash;&gt;-->
<!--</section>-->
<!--gray populate a form modal slide up/down section -->

<!--all items view -->
<section class="all-items-view " ng-class="{'as-modal': !dc.onDashboard()}">

  <!--<a ng-if="dc.onDashboard()" class="push-pull-box" ng-click="dc.toggleFavorites()" href="javascript:"-->
  <!--aria-expanded="false" ng-class="{'collapsed': !dc.showFavorites}">-->

  <!--<i class="fa fa-caret-down"></i>-->
  <!--<i class="fa fa-caret-up"></i>-->
  <!--</a>-->

  <!-- container -->
  <div class="container-fluid">
    <div class="row ">

      <!-- START LEFT SIDE -->
      <div class="col-lg-2 row-offcanvas-left" id="sidebar-left" ng-if="dc.filterShowing() &&  dc.onDashboard()">
        <div class="filter-options">
          <div class="clearfix reset-text">
            <div class="pull-left">Filter By</div>
            <div class="pull-right"><a href="#" ng-click="dc.resetFilters()">Reset</a></div>
          </div>
          <div>
            <!-- nested facet template -->
            <script type="text/ng-template" id="facet_renderer.html">
              <a href="#"><i class="fa fa-caret-right" aria-hidden="true"></i>{{ node.label }} ({{ node.numberOfMatches
                }})</a>
              <ul ui-tree-nodes="" ng-model="node.nodes">
                <li ng-repeat="node in node.nodes" ui-tree-node="" ng-include="'facet_renderer.html'"></li>
              </ul>
            </script>

            <ul class="list-unstyled clearfix">
              <li><a href="#" ng-click="dc.toggleFilters('type')">Type<i class="fa pull-right"
                  ng-class="{ 'fa-caret-down': dc.isFilterSection('type'), 'fa-caret-left': !dc.isFilterSection('type') }"
                  aria-hidden="true"></i></a>

                <ul ng-if="dc.isFilterSection('type')" class="list-inline " style="text-align:center">
                  <li>
                    <button tooltip="{{dc.showOrHide('template')}} template"
                        tooltip-trigger
                        tooltip-animation="false"
                        tooltip-placement="top"
                        data-toggle="tooltip"
                        ng-click="dc.toggleResourceType('template')"><i
                        class="btn btn-sm btn-info btn-circle fa large-icon fa-file-o template"
                        ng-class="{ active: dc.isResourceTypeActive('template') }"></i></button>
                  </li>
                  <li>
                    <button tooltip="{{dc.showOrHide('element')}} element"
                        tooltip-trigger
                        tooltip-animation="false"
                        tooltip-placement="top"
                        data-toggle="tooltip"
                        ng-click="dc.toggleResourceType('element')"><i
                        class="btn btn-sm btn-info btn-circle fa large-icon  fa-file-text-o element"
                        ng-class="{ active: dc.isResourceTypeActive('element') }"></i></button>
                  </li>
                  <li>
                    <button tooltip="{{dc.showOrHide('instance')}} metadata"
                        tooltip-trigger
                        tooltip-animation="false"
                        tooltip-placement="top"
                        data-toggle="tooltip"
                        ng-click="dc.toggleResourceType('instance')"><i
                        class="btn btn-sm btn-info btn-circle fa large-icon  fa-tags metadata"
                        ng-class="{ active: dc.isResourceTypeActive('instance') }"></i></button>
                  </li>
                </ul>

              </li>
              <li><a href="#" ng-click="dc.toggleFilters('author')">Author<i class="fa pull-right"
                  ng-class="{ 'fa-caret-down': dc.isFilterSection('author'), 'fa-caret-left': !dc.isFilterSection('author') }"></i></a>

                <div ng-if="dc.isFilterSection('author')">&nbsp;</div>
              </li>
              <li><a href="#" ng-click="dc.toggleFilters('status')">Status<i class="fa pull-right"
                  ng-class="{ 'fa-caret-down': dc.isFilterSection('status'), 'fa-caret-left': !dc.isFilterSection('status') }"></i></a>

                <div ng-if="dc.isFilterSection('status')">&nbsp;</div>
              </li>
              <li ui-tree=""><a href="#" ng-click="dc.toggleFilters('term')">Term<i class="fa pull-right"
                  ng-class="{ 'fa-caret-down': dc.isFilterSection('term'), 'fa-caret-left': !dc.isFilterSection('term') }"></i></a>

                <div ng-if="dc.isFilterSection('term')">&nbsp;</div>
                <!--<ul ng-if="dc.isFilterSection('term')" ui-tree-nodes="" ng-model="dc.facets.term.nodes">
                  <li ng-repeat="node in dc.facets.term.nodes" ui-tree-node="" ng-include="'facet_renderer.html'"></li>
                </ul>-->
              </li>
            </ul>
          </div>
        </div>
      </div>
      <!-- END LEFT SIDE -->

      <!-- center panel -->
      <div cedar-infinite-scroll load-more="dc.loadMore()" class=" center-panel scrollable-content"
          ng-class="{ 'col-lg-8': dc.infoShowing() , 'without-info': !dc.infoShowing()}" id="center-panel">
        <div style="height:auto;">


          <div class="row populate-form-boxes">
            <div class="grid-view" style="height:auto" ng-if="dc.resourceViewMode == 'grid'">

              <!-- show the folders first -->
              <div ng-if="dc.isFolder(resource)"
                  class="form-box-container folder"
                  ng-class="{ selected: dc.isResourceSelected(resource) }"
                  ng-repeat="(index, resource) in dc.resources">


                <div rightclick offsetX="0" offsetY="5" dropdownId="{{getId(resource, 'populate')}}"
                    ng-click="dc.selectResource(resource)"
                    ng-dblclick="dc.goToResource(resource)"
                    class="form-box  ">
                  <div class="box-content text-center folder">
                    <div class="folderIconContainer">
                      <i style="font-size:20px" class="fa" ng-class="dc.getResourceIconClass(resource)"></i>
                    </div>
                    <div class="folderTitle">{{ resource.displayName }}</div>

                    <div ng-if="dc.onDashboard()" class="btn-group dropdown" id="{{getId(resource, 'populate')}}">
                      <button style="display:none" title="More"
                          data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i
                          class="fa fa-ellipsis-v"></i>
                      </button>
                      <ul class="dropdown-menu" aria-labelledby="{{getId(resource, 'populate')}}">

                        <li><a href="#" ng-click="dc.editResource()">Open</a></li>
                        <li ng-if="!dc.isFolder()"><a href="#" ng-click="dc.editResource(resource)">Edit</a></li>
                        <li><a href="#" ng-click="dc.showInfoPanel(resource)">Info</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#" data-toggle="modal" ng-click="dc.openShare(resource)"
                            data-target="#shareResourceModal">Share...</a></li>
                        <li><a href="#" ng-click="dc.showMoveResourceModal('#moveResourceModal')">Move to...</a></li>
                        <li><a href="#" data-toggle="modal" data-target="#renameResourceModal">Rename...</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#" ng-click="dc.deleteResource(resource)">Delete</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="grid-view" style="height:auto" ng-if="dc.resourceViewMode == 'grid'">


              <div ng-if="!dc.isFolder(resource)"
                  class="form-box-container"
                  ng-class="{ selected: dc.isResourceSelected(resource) }"
                  ng-repeat="(index, resource) in dc.resources">

                <div rightclick
                    offsetX="0"
                    offsetY="5"
                    dropdownId="{{getId(resource, 'populate')}}"
                    ng-click="dc.selectResource(resource)"
                    ng-dblclick="dc.goToResource(resource)"
                    class="form-box">

                  <div class="box-content text-center " ng-class="dc.getResourceTypeClass(resource)">

                    <div style="text-align:center;padding-top:20px"><i style="font-size:30px;" class="fa"
                        ng-class="dc.getResourceIconClass(resource)"></i>


                    </div>
                    <div class="title"
                        style="text-align:center;height:40px;padding:10px;margin-top:20px; overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">
                      {{ resource.displayName }}
                    </div>

                    <div ng-if="dc.onDashboard()" class="btn-group dropdown" id="{{getId(resource, 'populate')}}">
                      <button style="display:none" title="More"
                          data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i
                          class="fa fa-ellipsis-v"></i>
                      </button>
                      <ul class="dropdown-menu" aria-labelledby="{{getId(resource, 'populate')}}">

                        <li ng-if="dc.isFolder()"><a href="#" ng-click="dc.editResource()">Open</a></li>
                        <li ng-if="dc.isTemplate()"><a href="#" ng-click="dc.launchInstance(resource)">Populate</a>
                        </li>
                        <li ng-if="dc.isTemplate() || dc.isElement() ||dc.isFolder() || dc.isMeta()"><a href="#"
                            ng-click="dc.editResource(resource)">Edit</a></li>
                        <li><a href="#" ng-click="dc.showInfoPanel(resource)">Info</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#" data-toggle="modal" ng-click="dc.openShare(resource)"
                            data-target="#shareResourceModal">Share...</a></li>
                        <li><a href="#" ng-click="dc.showMoveResourceModal('#moveResourceModal')">Move to...</a></li>
                        <li><a href="#" data-toggle="modal" data-target="#renameResourceModal">Rename...</a></li>
                        <li><a href="#" ng-if="!dc.isFolder()" ng-click="dc.copyResource()">Copy</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#" ng-click="dc.deleteResource(resource)">Delete</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="list-view" ng-if="dc.resourceViewMode == 'list' && dc.resources.length > 0" style="height:auto">

              <div class="box-title">
                <div class="cell type"></div>
                <div class="cell resource">Title</div>
                <div class="cell date">Created</div>
                <div class="cell date">Modified</div>
              </div>

              <!-- show the folders first -->
              <div ng-if="dc.isFolder(resource) && dc.onDashboard()" class="box-row"
                  style="position:relative;width:100%"
                  rightclick
                  offsetx="0" offsety="0"
                  dropdownId="{{getId(resource, 'list')}}"
                  ng-class="{ selected: dc.isResourceSelected(resource) }"
                  ng-click="dc.selectResource(resource)"
                  ng-dblclick="dc.goToResource(resource)"
                  ng-repeat="(index, resource) in dc.resources">

                <div class="cell type"><i ng-class="dc.getResourceIconClass(resource)"
                    class="btn btn-sm btn-info btn-circle fa large-icon " aria-hidden="true"></i></div>
                <div class="cell resource">{{ resource.displayName }}</div>
                <div class="cell date">{{ resource.createdOnTS | prettyDate }}</div>
                <div class="cell date">{{ resource.lastUpdatedOnTS | prettyDate }}

                  <div class="btn-group dropdown" id="{{getId(resource, 'list')}}">
                    <button style="display:none" title="More" class="btn btn-default dropdown-toggle trigger"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i
                        class="btn btn-sm btn-circle fa fa-ellipsis-v"></i>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="{{getId(resource, 'list')}}">

                      <li ng-if="dc.isFolder()"><a href="#" ng-click="dc.editResource()">Open</a></li>
                      <li ng-if="dc.isTemplate() "><a href="#" ng-click="dc.launchInstance(resource)">Populate</a>

                      </li>
                      <li ng-if="dc.isTemplate() || dc.isElement() || dc.isFolder()"><a href="#"
                          ng-click="dc.editResource(resource)">Edit</a></li>
                      <li><a href="#" ng-click="dc.showInfoPanel(resource)">Info</a></li>
                      <li role="separator" class="divider"></li>
                      <li><a href="#" data-toggle="modal" ng-click="dc.openShare(resource)"
                          data-target="#shareResourceModal">Share...</a></li>
                      <li><a href="#" ng-click="dc.showMoveResourceModal('#moveResourceModal')">Move to...</a></li>
                      <li><a href="#" data-toggle="modal" data-target="#renameResourceModal">Rename...</a></li>
                      <li role="separator" class="divider"></li>
                      <li><a href="#" ng-click="dc.deleteResource(resource)">Delete</a></li>
                    </ul>
                  </div>
                </div>
              </div>


              <div ng-if="!dc.isFolder(resource)" class="box-row" style="position:relative;width:100%" rightclick
                  offsetx="0" offsety="0"
                  dropdownId="{{getId(resource, 'list')}}"
                  ng-class="{ selected: dc.isResourceSelected(resource) }"
                  ng-click="dc.selectResource(resource)"
                  ng-dblclick="dc.goToResource(resource)"
                  ng-repeat="(index, resource) in dc.resources">

                <div class="cell type" ng-class="dc.getResourceTypeClass(resource)"><i
                    ng-class="dc.getResourceIconClass(resource)"
                    class="btn btn-sm btn-info btn-circle fa large-icon " aria-hidden="true"></i></div>
                <div class="cell resource">{{ resource.displayName }}</div>
                <div class="cell date">{{ resource.createdOnTS | prettyDate }}</div>
                <div class="cell date">{{ resource.lastUpdatedOnTS | prettyDate }}

                  <div ng-if="dc.onDashboard()" class="btn-group dropdown" id="{{getId(resource, 'list')}}">
                    <button style="display:none" title="More" class="btn btn-default dropdown-toggle trigger"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i
                        class="btn btn-sm btn-circle fa fa-ellipsis-v"></i>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="{{getId(resource, 'list')}}">

                      <li ng-if="dc.isFolder()"><a href="#" ng-click="dc.editResource()">Open</a></li>
                      <li ng-if="dc.isTemplate() "><a href="#" ng-click="dc.launchInstance(resource)">Populate</a>
                      </li>
                      <li ng-if="dc.isTemplate() ||  dc.isElement() || dc.isFolder() || dc.isMeta()"><a href="#"
                          ng-click="dc.editResource(resource)">Edit</a></li>
                      <li><a href="#" ng-click="dc.showInfoPanel(resource)">Info</a></li>
                      <li role="separator" class="divider"></li>
                      <li><a href="#" data-toggle="modal" ng-click="dc.openShare(resource)"
                          data-target="#shareResourceModal">Share...</a></li>
                      <li><a href="#" ng-click="dc.showMoveResourceModal('#moveResourceModal')">Move to...</a></li>
                      <li><a href="#" data-toggle="modal" data-target="#renameResourceModal">Rename...</a></li>
                      <li><a href="#" ng-if="!dc.isFolder()" ng-click="dc.copyResource()">Copy</a></li>
                      <li role="separator" class="divider"></li>
                      <li><a href="#" ng-click="dc.deleteResource(resource)">Delete</a></li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <!-- here is the end of the list view- hidden initially -->
          </div>
        </div>

      </div>
      <!-- end of center panel -->

      <!-- RIGHT SIDE -->
      <div class="col-lg-2 row-offcanvas-right" id="sidebar-right" ng-if="dc.infoShowing()">
        <div>

          <div class="title" ng-class="dc.selectedResource.nodeType"><i style="font-size:20px; text-align:left"
              class="fa"
              ng-class="dc.getResourceIconClass(dc.selectedResource)"></i>
            {{ dc.selectedResource.displayName }}
          </div>

          <div style="display:inline-block;" class="pull-right">
            <button
                ng-click="dc.setResourceInfo(false)"
                type="button"
                class="close"
                aria-label="Close"
                tooltip="Close Info Panel"
                tooltip-placement="left"
                ><span aria-hidden="true"><img
                src="/img/close_modal.png" width="22"/></span></button>
          </div>


          <table class="table"
              style="padding:0;margin:0;font-size:13px;border-top:1px solid #ddd;border-bottom:1px solid #ddd;">

            <tbody>
            <tr>
              <td class="left">Type</td>
              <td>{{ dc.getResourceTypeClass(dc.selectedResource)}}</td>
            </tr>
            <tr>

              <td class="left">Location</td>
              <td>{{ dc.selectedResource.displayPath }}</td>
            </tr>
            <tr>
              <td class="left">Owner</td>
              <td>{{ dc.selectedResource.ownedByUserName }}</td>
            </tr>
            <tr>
              <td class="left">Modified</td>
              <td>
                <span class="no-wrap">{{ dc.selectedResource.lastUpdatedOnTS | prettyDate }}</span>
                by
                <span class="no-wrap">{{ dc.selectedResource.lastUpdatedByUserName }}</span>
              </td>
            </tr>
            <tr>
              <td class="left">Created</td>
              <td>
                <span class="no-wrap">{{ dc.selectedResource.createdOnTS | prettyDate }}</span>
                by
                <span class="no-wrap">{{ dc.selectedResource.createdByUserName }}</span>
              </td>
            </tr>
            <tr>
              <td class="left"><strong>Publicly readable:</strong></td>
              <td>{{ dc.selectedResource.isPubliclyReadable }}</td>
              </td>
            </tr>
            <tr>
              <td class="left"><strong>Publicly writable:</strong></td>
              <td>{{ dc.selectedResource.isPubliclyWritable }}</td>
              </td>
            </tr>
            </tbody>
          </table>


          <div class="description">
            <div ng-if="dc.editingDescription" class="editing">

              <form class="form-inline" ng-submit="dc.updateDescription()">
                <fieldset>
                  <input id="edit-description" type="text" ng-model="dc.selectedResource.description"
                      ui-keypress="{'esc':'dc.cancelDescriptionEditing()'}">
                  <button type="submit" style=" display:none">Add</button>
                </fieldset>
              </form>

            </div>
            <div ng-if="!dc.editingDescription" class="title">
              {{ dc.selectedResource.description }}
            </div>
            <div ng-if="!dc.editingDescription" class="edit pull-right">
              <button
                  type="button"
                  tooltip="edit description"
                  tooltip-trigger
                  tooltip-animation="false"
                  tooltip-placement="left"
                  data-toggle="tooltip"
                  ng-click="dc.startDescriptionEditing()"><i class="fa fa-pencil graytext"></i></button>
            </div>
          </div>
        </div>
      </div>
      <!-- END RIGHT SIDE -->

      <!-- floating plus icon section -->
      <div class="add-new  pull-right" ng-if="dc.onDashboard()" ng-mouseleave="dc.showFloatingMenu = false">
        <ul class="list-unstyled others">
          <li ng-show="dc.showFloatingMenu">
            <button type="button"
                id="button-create-folder"
                tooltip="create folder"
                tooltip-trigger
                tooltip-animation="false"
                tooltip-placement="left"
                data-toggle="tooltip"
                class="btn btn-sm btn-info btn-circle folder"
                ng-click="dc.showNewFolder('#newFolderModal')"><i
                class="fa fa-folder-o"></i></button>
          </li>

          <li ng-show="dc.showFloatingMenu">
            <a ng-href="/elements/create?folderId={{dc.currentFolderId | encodeURIComponent}}">
              <button type="button"
                  id="button-create-element"
                  tooltip="create element"
                  tooltip-trigger
                  tooltip-animation="false"
                  tooltip-placement="left"
                  data-toggle="tooltip" class="btn btn-sm btn-info btn-circle element"><i class="fa fa-file-text-o"></i>
              </button>
            </a>
          </li>

          <li ng-show="dc.showFloatingMenu">
            <a ng-href="/templates/create?folderId={{dc.currentFolderId | encodeURIComponent}}">
              <button type="button"
                  id="button-create-template"
                  tooltip="create template"
                  tooltip-trigger
                  tooltip-animation="false"
                  tooltip-placement="left"
                  data-toggle="tooltip"
                  class="btn btn-sm btn-info btn-circle template">
                <i class="fa fa-file-o"></i>
              </button>
            </a>
          </li>


          <li ng-show="!dc.showFloatingMenu">
            <button type="button"
                id="button-create"
                tooltip="create template"
                tooltip-trigger
                tooltip-animation="false"
                tooltip-placement="left"
                data-toggle="tooltip" class="btn btn-sm btn-info btn-circle compose"
                ng-mouseenter="dc.showFloatingMenu = true"><i
                class="fa fa-plus template"></i>
            </button>
          </li>

        </ul>
      </div>
      <!-- end of floating plus icon section -->

    </div>
  </div>

  <!-- end floating plus section -->
</section>

<!-- add folder modal -->
<section>
  <div id="newFolderModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
              aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" translate>DASHBOARD.newFolder.title</h4>
        </div>
        <div class="modal-body">
          <p><input size="40" type="text" id="folderName" ng-model="dc.folder.name"/></p>
        </div>
        <div class="modal-footer actions">
          <div class="clear-save">
            <button type="cancel" data-dismiss="modal" class="btn btn-clear">Cancel</button>
            <button ng-click="dc.newFolder()" type="button" data-dismiss="modal" class="btn btn-save confirm"> Save
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- end add / edit folder modal -->

<!-- rename resource modal -->
<section>
  <div id="renameResourceModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
      aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
              aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" translate>DASHBOARD.rename.title</h4>
        </div>
        <div class="modal-body">
          <h6 translate>DASHBOARD.rename.label</h6>

          <p><input size="40" type="text" id="resourceName" ng-model="dc.selectedResource.name"/></p>
        </div>
        <div class="modal-footer actions">
          <div class="clear-save">
            <button type="cancel" data-dismiss="modal" class="btn btn-clear">Cancel</button>
            <button ng-click="dc.renameResource()" type="button" data-dismiss="modal" class="btn btn-save confirm">
              Save
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- rename resource modal -->

<!-- move resource modal -->
<section>
  <div id="moveResourceModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
      aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <div class="row">
            <div class="back-arrow-click col-sm-1" ng-click="dc.openParent()" aria-label="Back" tooltip="back to parent"
                tooltip-trigger
                tooltip-animation="false"
                tooltip-placement="bottom"
                data-toggle="tooltip"><i
                class="fa fa-arrow-left"></i></div>

            <div class="modal-title col-sm-10">{{dc.currentDestination.displayName}}</div>

            <button class="close col-sm-1" type="button" data-dismiss="modal" aria-label="Close"><span
                aria-hidden="true">&times;</span></button>
          </div>
        </div>
        <div class="modal-body">

          <!-- show the folders first -->
          <div ng-if="dc.isFolder(resource)" class="box-row row"
              ng-class="{ selected: dc.isDestinationSelected(resource)}"
              ng-repeat="(index, resource) in dc.destinationResources">
            <div class="col-sm-11" ng-click="dc.selectDestination(resource)"><i style="font-size:20px;padding-right:5px"
                class="fa" ng-class="dc.getResourceIconClass(resource)"></i> {{resource.displayName}}
            </div>
            <div class="col-sm-1" ng-click="dc.openDestination(resource)" tooltip="open {{resource.displayName}}"
                tooltip-trigger
                tooltip-animation="false"
                tooltip-placement="left"
                data-toggle="tooltip"><i class="fa fa-arrow-right"></i></div>
          </div>


          <div ng-if="!dc.isFolder(resource)" class="box-row row disabled"
              ng-repeat="(index, resource) in dc.destinationResources">
            <div class="col-sm-11" disabled="disabled"><i style="font-size:20px;padding-right:5px" class="fa"
                ng-class="dc.getResourceIconClass(resource)"></i>{{resource.displayName}}
            </div>

          </div>


        </div>
        <div class="modal-footer actions">
          <div class="clear-save">
            <button ng-disabled="dc.moveDisabled()" ng-click="dc.moveResource()" type="button" data-dismiss="modal"
                class="btn btn-save confirm"> Move
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- move resource modal -->

<!--<cedar-share-resource id="shareResourceModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"-->
    <!--aria-hidden="true"></cedar-share-resource>-->

<!-- share resource modal -->
<section>
  <div id="shareResourceModal" class="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
      aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">

          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
              aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" translate>DASHBOARD.share.title</h4>
        </div>

        <div class="modal-body">

          <h5 translate>DASHBOARD.share.manage</h5>


          <div ng-model="dc.resourcePermissions" id="shared-users" class="scroll-container">
            <div class="row">

              <div class="col-sm-7 name" >
                {{dc.getName(dc.resourcePermissions.owner)}}
              </div>
              <select class="col-sm-4" select-picker>
                <option value="own">is owner</option>
              </select>
            </div>

            <div class="row"  ng-repeat="share in dc.resourcePermissions.shares">


              <div class="col-sm-7 name" >{{share.node.name}}
              </div>

              <select ng-model="share.permission" class="col-sm-4" ng-change="dc.addShare(share.node.id, share.permission, 'shared-users')"
                  select-model="share"
                  select-picker cedar-live-search="true" >
                <option value="read">can read</option>
                <option value="write">can write</option>
                <option ng-if="dc.canBeOwner(share.node.id)" value="own">is owner</option>
              </select>

              <button class=" col-sm-1  btn  btn-info btn-circle btn-sm btn-delete" ng-if="dc.canUpdate()" ng-model="dc.resourcePermissions"
                  type="button" tooltip="remove"
                  tooltip-trigger
                  tooltip-animation="false"
                  tooltip-placement="top"
                  data-toggle="tooltip"
                  ng-click="dc.removeShare(share.node)"><i class="fa fa-times"
                  style="margin: -1px -4px;vertical-align: top;"></i></button>


            </div>
            </div>

            <hr />
          <div ng-if="dc.canUpdate()">

          <h5 translate>DASHBOARD.share.usersAndGroups</h5>

          <div class="hidden-container" >
            <div class="row">

              <select id="select-picker-user-or-group" data-size="5" ng-change="dc.updateNodePermission()"
                  data-dropup-auto="false" class="dropup col-sm-7"
                  ng-model="dc.selectedNodeId" select-model="dc.resourceNodes"
                  select-picker cedar-live-search="true"
                  ng-options="node.id as node.displayName for node in dc.resourceNodes "></select>

              <select ng-model="dc.giveNodePermission"
                  data-dropup-auto="false" class="dropup col-sm-4" select-picker select-model="dc.selectedNodeId"  cedar-live-search="true">
                <option value="read">can read</option>
                <option value="write">can write</option>
                <option ng-if="dc.canBeOwner(dc.selectedNodeId)" value="own">is owner</option>
              </select>

              <button
                  class="col-sm-1  btn btn-sm btn-info btn-circle btn-plus" ng-if="dc.canUpdate()" ng-model="dc.resourcePermissions"
                  type="button"
                  tooltip='{{"DASHBOARD.share.addHint" | translate}}'
                  tooltip-trigger
                  tooltip-animation="false"
                  tooltip-placement="top"
                  data-toggle="tooltip"
                  ng-click="dc.addShare(dc.selectedNodeId, dc.giveNodePermission, 'shared-users')">
                <!--<span aria-hidden="true">&plus;</span>-->
                <i class="fa fa-plus" style="margin: 0 -4px;vertical-align: top;"></i>
              </button>

            </div>
          </div>
        </div>
        </div>


        <div class="modal-footer actions" ng-if="dc.canUpdate()" ng-model="dc.resourcePermissions">
          <div class="clear-save">
            <button type="button" ng-click="dc.saveShare(resource)"
                data-dismiss="modal" aria-label="Save"
                class="btn btn-save confirm"> Save
            </button>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>
<!-- share resource modal -->

