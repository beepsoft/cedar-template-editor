<!--all items view -->
<section class="all-items-view " ng-class="{'as-modal': !dc.onDashboard()}">

  <div class="controls-bar clearfix    navbar-fixed-top " ng-class="{'as-modal': !dc.onDashboard()}">
  </div>

  <!-- container -->
  <div class="container-fluid">
    <div class="row ">

      <!-- START LEFT SIDE -->
      <div class="col-sm-2 row-offcanvas-left" id="sidebar-left" ng-if="dc.filterShowing() &&  dc.onDashboard()">

        <div class="compose-options add-new">

          <div class="btn-group dropdown"  >
            <button type="button"
                id="button-create1"
                class="btn btn-save template" aria-haspopup="true"
                aria-expanded="true">New <i
                class="fa fa-plus"></i></button>
            <ul class="dropdown-menu "  role="menu" aria-labelledby="button-create1">
              <li><a id="button-create-folder1" ng-click="dc.showNewFolderModal()">Folder</a></li>
              <li><a id="button-create-field1" ng-href="/fields/create?folderId={{dc.currentFolderId | encodeURIComponent}}">Field</a></li>
              <li><a  id="button-create-element1" ng-href="/elements/create?folderId={{dc.currentFolderId | encodeURIComponent}}">Element</a></li>
              <li><a  id="button-create-template1" ng-href="/templates/create?folderId={{dc.currentFolderId | encodeURIComponent}}">Template</a></li>
            </ul>
          </div>

        </div>

        <div class="filter-options">

          <div class="shares">
            <a class="share workspace" ng-class="{active: dc.isHomeMode()}" href="#" ng-click="dc.goToMyWorkspace()" translate>DASHBOARD.sidebar.myWorkspace</a>
            <a class="share shared" ng-class="{active: dc.isSharedMode()}" href="#" ng-click="dc.goToSharedWithMe()" translate>DASHBOARD.sidebar.sharedWithMe</a>
            <!--<a class="share" href="#" ng-click="dc.goToSearchAll()" translate>DASHBOARD.sidebar.all</a>-->
          </div>


          <div class="clearfix reset-text">
            <div class="pull-left " translate>DASHBOARD.filter.filterBy</div>
            <div class="pull-right" ng-show="dc.resetFiltersEnabled()"><a href="#" ng-click="dc.resetFilters()"
                translate>DASHBOARD.filter.reset</a></div>
          </div>

          <div>
            <!-- nested facet template -->
            <script type="text/ng-template" id="facet_renderer.html">
              <a href="#"><i class="fa fa-caret-right" aria-hidden="true"></i>{{ node.label }} ({{
                node.numberOfMatches}})</a>
              <ul ui-tree-nodes="" ng-model="node.nodes">
                <li ng-repeat="node in node.nodes" ui-tree-node="" ng-include="'facet_renderer.html'"></li>
              </ul>
            </script>

            <ul class="list-unstyled clearfix">
              <li><a href="#" ng-click="dc.toggleFilters('type')">Type<i class="fa pull-right"
                  ng-class="{ 'fa-caret-down': dc.isFilterSection('type'), 'fa-caret-left': !dc.isFilterSection('type') }"
                  aria-hidden="true"></i></a>

                <div ng-if="dc.isFilterSection('type')" class="filter-type">

                  <cedar-resource-icon style="display:inline-block;margin:2px;" resource-type="'template'"
                      uib-tooltip="{{'GENERIC.Template' | translate}}"
                      tooltip-trigger
                      tooltip-animation="false"
                      tooltip-placement="top"
                      data-toggle="tooltip"
                      ng-click="dc.toggleResourceType('template')"
                      class="template"
                      ng-class="{ deselected: !dc.isResourceTypeActive('template'), selected: dc.isResourceTypeActive('template')}">
                  </cedar-resource-icon>

                  <cedar-resource-icon style="display:inline-block;margin:2px;" resource-type="'element'"
                      uib-tooltip="{{'GENERIC.Element' | translate}}"
                      tooltip-trigger
                      tooltip-animation="false"
                      tooltip-placement="top"
                      data-toggle="tooltip"
                      ng-click="dc.toggleResourceType('element')"
                      class="element"
                      ng-class="{ deselected: !dc.isResourceTypeActive('element'), selected: dc.isResourceTypeActive('element') }"></cedar-resource-icon>

                  <cedar-resource-icon style="display:inline-block;margin:2px;" resource-type="'field'"
                      uib-tooltip="{{'GENERIC.Field' | translate}}"
                      tooltip-trigger
                      tooltip-animation="false"
                      tooltip-placement="top"
                      data-toggle="tooltip"
                      ng-click="dc.toggleResourceType('field')"
                      class="field"
                      ng-class="{ deselected: !dc.isResourceTypeActive('field'), selected: dc.isResourceTypeActive('field') }"></cedar-resource-icon>

                  <cedar-resource-icon style="display:inline-block;margin:2px;" resource-type="'metadata'"
                      uib-tooltip="{{'GENERIC.Metadata' | translate}}"
                      tooltip-trigger
                      tooltip-animation="false"
                      tooltip-placement="top"
                      data-toggle="tooltip"
                      ng-click="dc.toggleResourceType('instance')"
                      class="metadata"
                      ng-class="{ deselected: !dc.isResourceTypeActive('instance'), selected: dc.isResourceTypeActive('instance') }"></cedar-resource-icon>

                </div>

              </li>

              <li><a href="#" ng-click="dc.toggleFilters('version')">{{'GENERIC.Publication' |translate}}<i class="fa pull-right" ng-class="{ 'fa-caret-down': dc.isFilterSection('version'), 'fa-caret-left': !dc.isFilterSection('version') }"></i></a>

                <div ng-if="dc.isFilterSection('version')">{{'GENERIC.Status' |translate}}</div>
                <ul id="filter-resource-version" ng-if="dc.isFilterSection('version')" class="list-inline  ">
                  <li>
                    <div ng-click="dc.setFilterPublished()" class="published no-select" ng-class="{ active: dc.filterPublished()}">
                      <i class="btn fa " ng-class="dc.getPublishedIcon()" ></i>{{'GENERIC.Published' |translate}}
                    </div>
                  </li>
                  <li>
                    <div ng-click="dc.setFilterDraft()" class="draft no-select" ng-class="{ active: dc.filterDraft()}">
                      <i class="btn fa " ng-class="dc.getDraftIcon()" ></i>{{'GENERIC.Draft' |translate}}
                    </div>
                  </li>
                  <li>
                    <div ng-click="dc.setFilterBoth()" class="draft no-select" ng-class="{ active: dc.filterBoth()}">
                      <i class="btn fa " ng-class="dc.getBothIcon()" ></i>{{'GENERIC.Both' |translate}}
                    </div>
                  </li>
                </ul>

                <div ng-if="dc.isFilterSection('version')">{{'GENERIC.Version' |translate}}</div>
                <ul id="filter-resource-version" ng-if="dc.isFilterSection('version')" class="list-inline  " >
                  <li>
                    <div ng-click="dc.setFilterLatest()" class="latest no-select" ng-class="{ active: dc.filterLatest() }">
                      <i class="btn fa " ng-class="dc.getLatestIcon()"></i>{{'GENERIC.Latest' | translate}}
                    </div>
                  </li>
                  <li>
                    <div ng-click="dc.setFilterAll()" class="latest no-select" ng-class="{ active: dc.filterAll() }">
                      <i class="btn fa " ng-class="dc.getAllIcon()"></i>{{'GENERIC.All' | translate}}
                    </div>
                  </li>
                </ul>
              </li>

            </ul>

          </div>
        </div>
      </div>
      <!-- END LEFT SIDE -->

      <!-- center panel -->
      <div class="center-panel" ng-class="{ 'col-sm-7': dc.isInfoOpen() , 'col-sm-10': !dc.isInfoOpen()}"
          id="center-panel">

        <div class="row">
          <div class="col-xs-7">
            <div class="breadcrumbs-sb ">
              <p ng-if="dc.isSearching">
        <span class="search-result">
            <span ng-class="{'no-search-results':dc.searchTerm}">
              <span>{{dc.breadcrumbTitle}}</span>
            </span>
          </span>
              </p>

              <p ng-if="!dc.isSearching">
            <span class="folder-path" ng-repeat="folder in dc.pathInfo">
              <a ng-click="dc.goToFolder(folder['@id'])"
                  class="breadcrumbs">{{dc.breadcrumbName(dc.getTitle(folder))}}</a> /
            </span>
                <a class="breadcrumbs">{{dc.breadcrumbName(dc.getTitle(dc.currentPath))}}</a>

              </p>
            </div>
          </div>
          <div class="col-xs-5">
            <ul class="list-inline pull-right" style="white-space: nowrap;">

              <li id="compose-options">
                <div class="btn-group dropdown">
                  <button type="button" id="button-create" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    New <i class="fa fa-plus template"></i></button>
                  <ul class="dropdown-menu "   aria-labelledby="button-create">
                    <li><a id="button-create-folder" ng-click="dc.showNewFolderModal()">Folder</a></li>
                    <li><a id="button-create-field" ng-href="/fields/create?folderId={{dc.currentFolderId | encodeURIComponent}}">Field</a></li>
                    <li><a  id="button-create-element" ng-href="/elements/create?folderId={{dc.currentFolderId | encodeURIComponent}}">Element</a></li>
                    <li><a  id="button-create-template" ng-href="/templates/create?folderId={{dc.currentFolderId | encodeURIComponent}}">Template</a></li>
                  </ul>
                </div>
              </li>

              <li ng-show="dc.onDashboard()" id="grid-view-tool"  ng-class="{'grid-view': dc.isGridView(), 'list-view':dc.isListView()}">
                <button type="button"
                    uib-tooltip='{{"View" | translate}}'
                    tooltip-trigger
                    tooltip-animation="false"
                    tooltip-placement="top"
                    data-toggle="tooltip"
                    ng-click="dc.toggleView()">
                  <i class="inline fa "
                      ng-class="{'fa-list-ul': dc.isGridView(), 'fa-th': dc.isListView()}"></i>
                </button>
              </li>

              <li ng-if="dc.onDashboard()" class="toggleDetails" id="show-details"
                  ng-class="{'hidePanel':dc.isInfoOpen(), 'showPanel':!dc.isInfoOpen()}">
                <button type="button"
                    uib-tooltip="{{ 'Details' | translate  }}"
                    tooltip-trigger
                    tooltip-animation="false"
                    tooltip-placement="top"
                    data-toggle="tooltip"
                    ng-click="dc.toggleInfo()"><i class="fa fa-info "></i></button>
              </li>



              <li ng-if="dc.onDashboard()" id="workspace-sort-tool" uib-tooltip="{{ 'Sort' | translate  }}"
                  tooltip-trigger
                  tooltip-animation="false"
                  tooltip-placement="top"
                  data-toggle="tooltip">
                <div class="btn-group dropdown">
                  <button type="button" class="menu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"
                  ><i class="fa fa-sort-amount-asc "></i></button>
                  <!--<button class="menu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i-->
                  <!--class="fa fa-caret-down  "></i></button>-->
                  <ul class="dropdown-menu dropdown-menu-right">
                    <li><a class="sortName" ng-click="dc.setSortByName()"><i class="fa fa-check"
                        ng-class="dc.sortName()"></i><span
                        translate="DASHBOARD.sort.name"></span></a></li>
                    <li><a class="sortCreated" ng-click="dc.setSortByCreated()"><i class="fa fa-check"
                        ng-class="dc.sortCreated()"></i><span translate="DASHBOARD.sort.createdOnTS"></span></a></li>
                    <li><a class="sortUpdated" ng-click="dc.setSortByUpdated()"><i class="fa fa-check"
                        ng-class="dc.sortUpdated()"></i><span
                        translate="DASHBOARD.sort.lastUpdatedOnTS"></span></a>
                    </li>
                  </ul>
                </div>
              </li>



            </ul>
          </div>
        </div>

        <div id="workspace-view-container" cedar-infinite-scroll load-more="dc.loadMore()" class="center-panel scrollable-content"
            style="padding-top:0;overflow:scroll">
          <div style="height:auto;">

            <div class="no-selection" ng-if="!dc.hasResources()">
              <div class="row no-file">
                <div class="col-sm-12 center"><i class="fa fa-file"></i></div>
              </div>
              <div class="row no-message">
                <div class="col-sm-12 center" translate>Nothing found</div>
              </div>
            </div>

            <div ng-if="dc.hasResources()">
              <div class="populate-form-boxes">
                <div class="grid-view" style="height:auto" ng-if="dc.isGridView()">

                  <!-- show the folders first -->
                  <div ng-if="dc.isFolder(resource)"
                      class="form-box-container folder"
                      ng-class="{ selected: dc.isResourceSelected(resource) }"
                      ng-repeat="(index, resource) in dc.resources">

                    <div dropdownId="{{getId(resource, 'populate')}}"
                        ng-click="dc.selectResource(resource)"
                        ng-dblclick="dc.goToResource(resource)"
                        class="form-box resource-instance " ng-class="dc.getResourceTypeClass(resource)">
                      <div class="box-content text-center folder">
                        <div class="folderIconContainer">
                          <i style="font-size:20px" class="fa" ng-class="dc.getResourceIconClass(resource)"></i>
                        </div>
                        <div class="folderTitle">{{ dc.getTitle(resource) }}</div>

                        <div ng-if="dc.onDashboard()" class="btn-group dropdown" style="background-color:red" id="{{getId(resource, 'populate')}}"
                            append-to-body="true">
                          <button  title="More"  append-to-body="true"
                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i
                              class="fa fa-ellipsis-v"></i>
                          </button>

                          <cedar-dropdown-menu  append-to-body="true" class="dropdown-menu "
                              aria-labelledby="{{getId(resource, 'populate')}}"
                              resource="resource" go-to="dc.goToResource" share="dc.showShareModal"
                              move="dc.showMoveModal" copy="dc.showCopyModal" delete="dc.deleteResource"
                              copy="dc.showCopyModal" rename="dc.showRenameModal"
                              publish-modal="dc.showPublishModal" publish-callback="dc.publishResource" draft-callback="dc.createDraftResource"
                              can-not-publish="dc.canNotPublish" can-not-create-draft="dc.canNotCreateDraft"
                              can-not-populate="dc.canNotPopulate" can-not-write="dc.canNotWrite" can-not-rename="dc.canNotRename"
                              can-not-share="dc.canNotShare" can-not-delete="dc.canNotDelete" is-folder="dc.isFolder()">
                          </cedar-dropdown-menu>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="grid-view" style="height:auto" ng-if="dc.isGridView()">


                  <div ng-if="!dc.isFolder(resource)"
                      class="form-box-container"
                      ng-class="{ selected: dc.isResourceSelected(resource) }"
                      ng-repeat="(index, resource) in dc.resources">

                    <div ng-click="dc.selectResource(resource)"
                        ng-dblclick="dc.goToResource(resource,'populate')"
                        class="form-box resource-instance" ng-class="dc.getResourceTypeClass(resource)">

                      <div class="box-content text-center " ng-class="dc.getResourceTypeClass(resource)">
                        <div class="toolbar-right">
                          <i class="action fa" ng-class="dc.getVersionIcon(dc.getResourcePublicationStatus(resource))"
                              uib-tooltip="{{dc.getResourceVersion(resource)}}"
                              tooltip-trigger
                              tooltip-animation="false"
                              tooltip-placement="left"
                              data-toggle="tooltip"></i>

                          <button title="More" class="more-button"
                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <i class="action fa fa-ellipsis-v"></i>
                          </button>

                          <cedar-dropdown-menu class="dropdown-menu " aria-labelledby="{{getId(resource, 'populate')}}"
                              resource="resource" go-to="dc.goToResource" share="dc.showShareModal"
                              move="dc.showMoveModal" delete="dc.deleteResource" copy="dc.showCopyModal"
                              rename="dc.showRenameModal"
                              publish-modal="dc.showPublishModal" publish-callback="dc.publishResource" draft-callback="dc.createDraftResource"
                              can-not-publish="dc.canNotPublish" can-not-create-draft="dc.canNotCreateDraft"
                              can-not-populate="dc.canNotPopulate" can-not-write="dc.canNotWrite" can-not-rename="dc.canNotRename"
                              can-not-share="dc.canNotShare" can-not-delete="dc.canNotDelete" is-folder="dc.isFolder()">
                          </cedar-dropdown-menu>
                        </div>


                        <div class="resource"><i class="fa" ng-class="dc.getResourceIconClass(resource)"></i></div>
                        <div class="title">{{ dc.getTitle(resource) }}</div>
                        <div ng-if="dc.onDashboard()" class="btn-group dropdown" id="{{getId(resource, 'populate')}}">
                          <button style="display:none" title="More" class="more-button"
                              data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i
                              class="fa fa-ellipsis-v"></i>
                          </button>

                          <cedar-dropdown-menu class="dropdown-menu " aria-labelledby="{{getId(resource, 'populate')}}"
                              resource="resource" go-to="dc.goToResource" share="dc.showShareModal"
                              move="dc.showMoveModal" delete="dc.deleteResource" copy="dc.showCopyModal"
                              rename="dc.showRenameModal"
                              publish-modal="dc.showPublishModal" publish-callback="dc.publishResource" draft-callback="dc.createDraftResource"
                              can-not-publish="dc.canNotPublish" can-not-create-draft="dc.canNotCreateDraft"
                              can-not-populate="dc.canNotPopulate" can-not-write="dc.canNotWrite" can-not-rename="dc.canNotRename"
                              can-not-share="dc.canNotShare" is-folder="dc.isFolder()">
                          </cedar-dropdown-menu>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="list-view" ng-if="dc.isListView() && dc.resources.length > 0" style="height:auto;position:relative">

                  <div class="box-title flex">
                    <div class="flex" style="width:100%;justify-content:space-between;">
                      <cedar-resource-icon style="visibility:hidden" resource-type="resource.nodeType"></cedar-resource-icon>
                      <a style="width:100%;" ng-class="{'bold': dc.isSort('name')}" href="#" ng-click="dc.updateSort('name')">Title</a>
                    </div>

                    <a class="ellipsis" style="width:100px;padding-right:10px;" ng-class="{'bold': dc.isSort('createdOnTS')}" href="#"
                        ng-click="dc.updateSort('createdOnTS')">Created</a>
                    <a class="ellipsis" style="width:100px;padding-right:10px;" ng-class="{'bold': dc.isSort('lastUpdatedOnTS')}" href="#"
                        ng-click="dc.updateSort('lastUpdatedOnTS')">Modified</a>
                    <div ng-if="dc.filterPublished() && dc.filterLatest()" style="width:40px;"></div>
                    <div ng-if="dc.filterPublished() && !dc.filterLatest()" style="width:100px;"></div>
                    <div style="width:40px"></div>

                  </div>

                  <!-- show the folders first -->
                  <div ng-if="dc.isFolder(resource) && dc.onDashboard()" class="box-row "
                      id="{{dc.getId(resource, 'row')}}"
                      dropdownId="{{getId(resource, 'list')}}"
                      ng-class="{ selected: dc.isResourceSelected(resource) }"
                      ng-click="dc.selectResource(resource)"
                      ng-dblclick="dc.goToResource(resource)"
                      ng-repeat="(index, resource) in dc.resources">


                    <div class="outer flex resource-instance" ng-class="dc.getResourceTypeClass(resource)">
                      <div class="flex ellipsis">
                        <cedar-resource-icon resource-type="resource.nodeType"></cedar-resource-icon>
                        <div class="ellipsis" style="width:100%;justify-content: space-between">{{
                          dc.getTitle(resource)}}
                        </div>
                      </div>
                      <div  class="ellipsis" style="width:100px;padding-right:10px;">{{resource['pav:createdOn'] | prettyDate}}</div>
                      <div class="ellipsis" style="width:100px;padding-right:10px;">{{ resource['pav:lastUpdatedOn'] | prettyDate}}</div>
                      <div ng-if="dc.filterPublished() && dc.filterLatest()" style="width:40px;"></div>
                      <div ng-if="dc.filterPublished() && !dc.filterLatest()" style="width:100px;"></div>
                      <div class="flex" style="width:40px;justify-content:flex-end;">

                        <button id="{{dc.getId(resource, 'list')}}" style="background-color:transparent;padding-right:15px;"
                            ng-click="dc.toggledCedarDropdownMenu($event, resource )"
                            title="More"
                            class="dropup more-button"
                            data-toggle="dropdown"
                            aria-haspopup="true"
                            aria-expanded="true">
                          <i class="action fa fa-ellipsis-v"></i>
                        </button>

                        <cedar-dropdown-menu  id="{{dc.getId(resource, 'menu')}}"
                            class="dropdown-menu"
                            toggle-id="dc.getId"
                            aria-labelledby="{{dc.getId(resource, 'list')}}"
                            resource="resource" go-to="dc.goToResource" share="dc.showShareModal"
                            move="dc.showMoveModal" delete="dc.deleteResource" copy="dc.showCopyModal"
                            rename="dc.showRenameModal"
                            submit="dc.showFlowModal"
                            publish-modal="dc.showPublishModal" publish-callback="dc.publishResource" draft-callback="dc.createDraftResource"
                            can-not-publish="dc.canNotPublish" can-not-create-draft="dc.canNotCreateDraft"
                            can-not-populate="dc.canNotPopulate" can-not-write="dc.canNotWrite"
                            can-not-submit="dc.canNotSubmit" can-not-rename="dc.canNotRename"
                            can-not-share="dc.canNotShare" can-not-delete="dc.canNotDelete" is-folder="dc.isFolder()">
                        </cedar-dropdown-menu>

                      </div>
                    </div>
                  </div>

                  <div ng-if="!dc.isFolder(resource)" class="box-row "
                      id="{{dc.getId(resource, 'row')}}"
                      dropdownId="{{getId(resource, 'list')}}"
                      ng-class="{ selected: dc.isResourceSelected(resource) }"
                      ng-click="dc.selectResource(resource)"
                      ng-dblclick="dc.goToResource(resource,'populate')"
                      ng-repeat="(index, resource) in dc.resources">

                    <div class="outer flex resource-instance" ng-class="dc.getResourceTypeClass(resource)">
                      <div class="flex ellipsis" style="justify-content:space-between">
                        <cedar-resource-icon resource-type="resource.nodeType"></cedar-resource-icon><div class="ellipsis" style="width:100%">{{ dc.getTitle(resource)}}</div>
                      </div>
                      <div class="ellipsis" style="width:100px;padding-right:10px;">{{ resource['pav:createdOn'] | prettyDate }}
                      </div>
                      <div class="ellipsis" style="width:100px;padding-right:10px;">{{ resource['pav:lastUpdatedOn'] | prettyDate }}
                      </div>
                      <div ng-if="dc.filterPublished() && dc.filterLatest()" class="ellipsis"  style="width:40px;">
                        <div ng-if="dc.isPublished(resource)"><i  class="action fa" ng-class="dc.getVersionIcon(dc.getResourcePublicationStatus(resource))"></i></div>
                      </div>
                      <div ng-if="dc.filterPublished() && !dc.filterLatest()" class="ellipsis"  style="width:100px;">
                        <div ng-if="dc.isPublished(resource)"><i  class="action fa" ng-class="dc.getVersionIcon(dc.getResourcePublicationStatus(resource))"></i> {{dc.getResourceVersion(resource)}} </div>
                      </div>
                      <div class="flex" style="width:40px;justify-content:flex-end;">
                        <button id="{{dc.getId(resource, 'list')}}" title="More" class="more-button"
                            ng-click="dc.toggledCedarDropdownMenu($event, resource)"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"
                            style="background-color:transparent;padding-right:15px;">
                          <i class="action fa fa-ellipsis-v"></i>
                        </button>

                        <cedar-dropdown-menu id="{{dc.getId(resource, 'menu')}}"
                            toggle-id="dc.getId"
                            class="dropdown-menu " aria-labelledby="{{dc.getId(resource, 'list')}}"
                            resource="resource" go-to="dc.goToResource" share="dc.showShareModal"
                            move="dc.showMoveModal" delete="dc.deleteResource" copy="dc.showCopyModal"
                            rename="dc.showRenameModal"
                            submit="dc.showFlowModal"
                            publish-modal="dc.showPublishModal" publish-callback="dc.publishResource" draft-callback="dc.createDraftResource"
                            can-not-publish="dc.canNotPublish" can-not-create-draft="dc.canNotCreateDraft"
                            can-not-submit="dc.canNotSubmit" can-not-rename="dc.canNotRename"
                            can-not-populate="dc.canNotPopulate" can-not-write="dc.canNotWrite"
                            can-not-share="dc.canNotShare" can-not-delete="dc.canNotDelete" is-folder="dc.isFolder()">
                        </cedar-dropdown-menu>

                      </div>
                    </div>
                  </div>
                </div>
                <!-- here is the end of the list view- hidden initially -->
              </div>

              <div class="row resource-count" ng-if="dc.showResourceCount()">
                <div class="col-xs-12  center">
                  <span translate>GENERIC.Displaying</span> 1 - {{dc.getVisibleCount()}} <span
                    translate>GENERIC.Of</span>
                  {{dc.totalCount}}
                </div>
              </div>


            </div>

            <div style="height:50px"></div>


          </div>
        </div>
      </div>

      <!-- RIGHT SIDE -->
      <div class="col-sm-3 row-offcanvas-right ng-cloak" id="sidebar-right" ng-if="dc.isInfoOpen()" >

        <div class="flex">
          <cedar-resource-icon resource-type="dc.getSelectedNode().nodeType"></cedar-resource-icon>
          <div class="title full-width" ng-class="dc.getSelectedNode().nodeType">
            <span class="ellipsis" ng-bind="dc.getSelectedNode()[dc.titleLocation()]"></span>
          </div>
          <div class="goaway">
            <button
                ng-click="dc.toggleInfo()"
                type="button"
                class="close"
                aria-label="Close">
              <span aria-hidden="true">
                <img src="/img/close_modal.png" width="16"/></span>
            </button>
          </div>
        </div>

        <div class="element-toggles list table-style">
          <div class="element-toggle table-cell-style "
              ng-class="{active: dc.isInfoTab()}"
              ng-click="dc.setTab('resource-info');">
            <span>Info</span>
          </div>
          <div class="element-toggle table-cell-style "
              ng-class="{active: dc.isVersionTab()}"
              ng-click="dc.setTab('resource-version');">
            <span>{{'GENERIC.Publication' |translate}}</span>
          </div>
        </div>

        <div class="half-padding-top"  id="resource-version" ng-show="dc.isVersionTab()"  >
          <div class="info " ng-if="dc.selectedResource && dc.selectedResource.versions"
              ng-repeat="(index, resource) in dc.selectedResource.versions">

            <div ng-class="{'selected-version':dc.isSelected(resource)}" style="padding:5px;border: 1px solid #ccc">
            <div class="flex" >
              <i ng-if="dc.isPublished(resource)" class="padding-right action fa" ng-class="dc.getPublishedIcon()"></i>
              <div class="padding-right" ng-class="{'latest-version': resource.isLatestVersion}"> {{resource['pav:version']}}</div>
              <div class="ellipsis clickable" ng-click="dc.goToResource(resource)">{{dc.getTitle(resource)}}</div>
            </div>

            <div class="flex flex-wrap">
              <div class="field-label">Created</div>
              <div>{{ resource['pav:createdOn'] | prettyDate }}</div>
            </div>
            <div class="flex flex-wrap">
              <div class="field-label" translate>Modified</div>
              <div>{{ resource['pav:lastUpdatedOn'] | prettyDate }}</div>
            </div>
            </div>


          </div>
        </div>

        <div id="resource-info" ng-if="dc.isInfoTab('resource-info')">
          <div class="info no-selection" ng-if="!dc.getSelectedNode()">
            <div class="row no-file">
              <div class="col-sm-12 center"><i class="fa fa-file"></i></div>
            </div>
            <div class="row no-message">
              <div class="col-sm-12 center " translate>Select a file or folder to view.</div>
            </div>
          </div>

          <div class="info" ng-if="dc.getSelectedNode()">
            <div class="flex flex-wrap padding-top">
              <div class="field-label ng-cloak" translate>Location</div>
              <div>{{ dc.getSelectedNode().parentPath }}</div>
            </div>

            <div class="flex flex-wrap padding-top">
              <div class="field-label ng-cloak" translate>Owner</div>
              <div> {{ dc.getSelectedNode().ownedByUserName }}</div>
            </div>

            <div class="flex flex-wrap padding-top">
              <div class="field-label ng-cloak" translate>Created</div>
              <div>{{ dc.getSelectedNode()['pav:createdOn'] | prettyDate }} by {{
                dc.getSelectedNode().createdByUserName }}
              </div>
            </div>

            <div class="flex flex-wrap padding-top">
              <div class="field-label ng-cloak" translate>Modified</div>
              <div>{{ dc.getSelectedNode()['pav:lastUpdatedOn'] | prettyDate }} by
                {{ dc.getSelectedNode().lastUpdatedByUserName }}
              </div>
            </div>

            <div class="flex flex-wrap padding-top">
              <div class="field-label ng-cloak" translate>Permission</div>
              <div>
                <span ng-if="dc.canRead()" class="can-read ellipsis"><i class="fa fa-check"></i>read </span>
                <span ng-if="dc.canWrite()" class="can-write ellipsis"><i class="fa fa-check"></i>write </span>
                <span ng-if="dc.canChangeOwner()" class="can-change-owner ellipsis"><i class="fa fa-check"></i>edit owner</span>
              </div>
            </div>

            <div ng-if="dc.getDerivedFrom()">
              <div class="flex flex-wrap padding-top">
                <div class="field-label ng-cloak" translate>Derived From</div>
                <div class="field-value">
                  <i class=" action fa"  ng-class="dc.getVersionIcon(dc.getResourcePublicationStatus(dc.getDerivedFrom()))"></i>
                  <span class="" ng-class="{'latest-version': dc.getDerivedFrom().isLatestVersion}" > {{ dc.getResourceVersion(dc.getDerivedFrom()) }}</span>
                  {{ dc.getTitle(dc.getDerivedFrom()) }}</div>
              </div>

              <div class="flex flex-wrap padding-top">
                <div class="field-label ng-cloak" translate>Created</div>
                <div>{{ dc.getDerivedFrom()['pav:createdOn'] | prettyDate }}
                </div>
              </div>

              <div class="flex flex-wrap padding-top">
                <div class="field-label ng-cloak" translate>Modified</div>
                <div>{{ dc.getDerivedFrom()['pav:lastUpdatedOn'] | prettyDate }}
                </div>
              </div>
            </div>

            <!-- based on a copy? -->
            <div ng-if="dc.getBasedOn()">
              <div class="flex flex-wrap padding-top">
                <div class="field-label" translate>Based On</div>
                <div>
                  <i class=" action fa"  ng-class="dc.getVersionIcon(dc.getResourcePublicationStatus(dc.getBasedOn()))"></i>
                  <span  ng-class="{'latest-version': dc.getBasedOn().isLatestVersion}" > {{ dc.getResourceVersion(dc.getBasedOn()) }}</span>
                  {{ dc.getTitle(dc.getBasedOn()) }}</div>
              </div>

              <div class="flex flex-wrap padding-top">
                <div class="field-label ng-cloak" translate>Created</div>
                <div>{{ dc.getBasedOn()['pav:createdOn'] | prettyDate }}
                </div>
              </div>

              <div class="flex flex-wrap padding-top">
                <div class="field-label" translate>Modified</div>
                <div>{{ dc.getBasedOn()['pav:lastUpdatedOn'] | prettyDate }}
                </div>
              </div>
            </div>

            <!-- templates have instances -->
            <div ng-if="dc.getNumberOfInstances()" class="instance-list">
              <div class="flex flex-wrap padding-top">
                <div class="field-label ng-cloak" translate>Instances</div>
                <div class="field-value">{{ dc.getNumberOfInstances() }}</div>
              </div>

              <div  cedar-infinite-scroll load-more="" class="scrollable-content"
                  style="margin-top:10px;overflow-y:scroll;border:1px solid #ccc;height:100px">
              <div ng-repeat="(index, resource) in dc.hasInstanceResources" class="instance-item" style="padding:2px;" ng-click="dc.goToResource(resource,'open')">
                {{resource['schema:name']}}
              </div>
              </div>
            </div>

            <div class="description flex-top " style="padding: 20px 0 0 0;" ng-if="dc.getSelectedNode()">
              <div style="width:100%;">
                <div ng-if="dc.editingDescription">
                  <form name="forms.descriptionForm" class="form-inline" ng-submit="dc.updateDescription()">
                    <fieldset>
                <textarea style="width:100%;resize:both" id="edit-description" type="text"
                    ng-model="dc.selectedResource[dc.descriptionLocation()]"
                    ui-keypress="{'esc':'dc.cancelDescriptionEditing()'}"></textarea>
                      <button type="submit" style=" display:none">Add</button>
                    </fieldset>
                  </form>

                </div>
                <div ng-if="!dc.editingDescription" class="title">
                  {{ dc.getDescription(dc.selectedResource) }}
                </div>
              </div>

              <div>
                <button
                    style="background:transparent"
                    ng-show="!dc.editingDescription && dc.canWrite()"
                    type="button"
                    uib-tooltip='{{"HELP.editDescription" | translate}}'
                    tooltip-trigger
                    tooltip-animation="false"
                    tooltip-placement="left"
                    data-toggle="tooltip"
                    ng-click="dc.toggleDescriptionEditing()"><i class="fa fa-pencil graytext"></i></button>
              </div>

            </div>

            <hr />

          </div>

        </div>

      </div>
    </div>



  </div>


</section>

<!-- add folder modal -->
<section>
  <cedar-new-folder-modal cedar-modal-show modal-visible="dc.newFolderModalVisible" class="modal fade"
      id="new-folder-modal" tabindex="-1" role="dialog" aria-labelledby="newFolderModalHeader"
      data-keyboard="true" data-backdrop="static">
  </cedar-new-folder-modal>
</section>

<!-- rename modal -->
<section>
  <cedar-rename-modal cedar-modal-show modal-visible="dc.renameModalVisible" class="modal fade" id="rename-modal"
      tabindex="-1" role="dialog" aria-labelledby="renameModalHeader"
      data-keyboard="true" data-backdrop="static" rename-resource="resource">
  </cedar-rename-modal>
</section>

<!-- copy modal -->
<section>
  <cedar-copy-modal cedar-modal-show modal-visible="dc.copyModalVisible" class="modal fade" id="copy-modal"
      tabindex="-1" role="dialog" aria-labelledby="copyModalHeader"
      data-keyboard="true" data-backdrop="static" copy-resource="resource">
  </cedar-copy-modal>
</section>

<!-- move modal -->
<section>
  <cedar-move-modal cedar-modal-show modal-visible="dc.moveModalVisible" class="modal fade" id="move-modal"
      tabindex="-1" role="dialog" aria-labelledby="moveModalHeader"
      data-keyboard="true" data-backdrop="static" move-resource="resource">
  </cedar-move-modal>
</section>

<!-- publish modal -->
<section>
  <cedar-publish-modal cedar-modal-show modal-visible="dc.publishModalVisible" class="modal fade" id="publish-modal"
      tabindex="-1" role="dialog" aria-labelledby="publishModalHeader"
      data-keyboard="true" data-backdrop="static" move-resource="resource">
  </cedar-publish-modal>
</section>

<!--- share modal  --->
<section>
  <cedar-share-modal cedar-modal-show modal-visible="dc.shareModalVisible" class="modal fade" id="share-modal"
      tabindex="-1" role="dialog" aria-labelledby="shareModalHeader" style="padding:10px;list-style: none"
      data-keyboard="true" data-backdrop="static" share-resource="resource">
  </cedar-share-modal>
</section>

<section>
  <flow-modal cedar-modal-show modal-visible="dc.flowModalVisible" class="modal fade"
      id="flow-modal" tabindex="-1" role="dialog" aria-labelledby="flowModalHeader"
      data-keyboard="true" data-backdrop="static">
  </flow-modal>
</section>







