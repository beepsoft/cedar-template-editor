<div ng-init="initializeValue(field)" class="form-group " ng-click="setActive(index)">

  <!-- Single Choice (Active) -->
  <ui-select  style="background:white;padding:0;margin:0" ng-if="isActive(index) && !isMultipleChoice()"
      class="form-control select"

      ng-click="setActive(index, true)"
      data-max-options="1"
      theme="bootstrap"
      close-on-select="true"
      ng-model="optionsUI.listSingleSelect"
      ng-change="updateModelFromUI()">
    <ui-select-match placeholder="Select option...">{{$select.selected.label}}</ui-select-match>
    <ui-select-choices repeat="option in getLiterals()">
      {{option.label}}
    </ui-select-choices>
  </ui-select>

  <!-- Multiple choice (Active) -->
  <ui-select style="background:white;padding:2px;margin:0;border:1px solid #ccc" ng-if="isActive(index) && isMultipleChoice()"
      class="form-control select"
      ng-click="setActive(index)"
      multiple
      theme="bootstrap"
      close-on-select="false"
      ng-change="updateModelFromUI()"
      ng-model="optionsUI.listMultiSelect">
    <ui-select-match placeholder="Select options...">{{$item.label}}</ui-select-match>
    <ui-select-choices repeat="option in getLiterals()">
      {{option.label}}
    </ui-select-choices>
  </ui-select>

  <!-- Single choice (Inactive) -->
  <div ng-if="!isActive(index) && !isMultipleChoice()">
    <div class=" value" ng-click="setActive(index,true)"
        aria-label="{{getHelp()}}">{{model['@value']}}
    </div>
  </div>

  <!-- Multiple choice (Inactive) -->
  <div ng-if="!isActive(index) && isMultipleChoice()">
    <div class=" value" ng-click="setActive(index,true)"
        aria-label="{{getHelp()}}">{{getValueString(valueArray[index])}}
    </div>
  </div>

</div>
