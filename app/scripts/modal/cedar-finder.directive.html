<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header" id="finderModalHeader">
      <div class="row toolbar">
        <div class="col-sm-8 col-sm-offset-2">
          <form id="finder-search-form">
            <div class="form-group  floating-label-wrapper">
              <input autocomplete="off" ng-keyup="$event.keyCode == 13 && finder.search(finder.searchTerm)"
                  type="search"
                  class="form-control search-input"
                  id="finder-search-input" placeholder="Search" aria-label="Search" ng-model="finder.searchTerm"/>
              <a class="clear do-search" ng-click="finder.search(finder.searchTerm)"><i class="fa fa-search"></i></a>
              <a class="clear clear-search" ng-show="finder.searchTerm" ng-click="finder.search('')">
                <span class="fa fa-remove"></span></a>
            </div>
          </form>
        </div>
        <div class="col-sm-2 ">
          <ul class="list-inline ">
            <li>
              <button
                  class="tool grid-view"
                  type="button"
                  uib-tooltip="{{'HELP.viewAsGrid' | translate}}"
                  tooltip-trigger
                  tooltip-animation="false"
                  tooltip-placement="bottom"
                  data-toggle="tooltip"
                  ng-if="finder.isListView()"
                  ng-click="finder.toggleView()"><i class="fa fa-th"></i></button>
            </li>
            <li>
              <button type="button"
                  class="tool list-view"
                  uib-tooltip="{{'HELP.viewAsList' | translate}}"
                  tooltip-trigger
                  tooltip-animation="false"
                  tooltip-placement="bottom"
                  data-toggle="tooltip"
                  ng-if="finder.isGridView()"
                  ng-click="finder.toggleView()"><i
                  class="fa fa-list-ul"></i></button>
            </li>
            <li>
              <div class="btn-group dropdown">
                <button data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i
                    class="fa fa-sort  inline "></i></button>
                <ul class="dropdown-menu dropdown-menu-left">
                  <li class="sort-by-name"><a ng-click="finder.setSortByName()"><i class="fa fa-check"
                      ng-class="finder.sortName()"></i><span
                      translate="DASHBOARD.sort.name"></span></a></li>
                  <li class="sort-by-created"><a ng-click="finder.setSortByCreated()"><i class="fa fa-check"
                      ng-class="finder.sortCreated()"></i><span translate="DASHBOARD.sort.createdOnTS"></span></a></li>
                  <li class="sort-by-updated"><a ng-click="finder.setSortByUpdated()"><i class="fa fa-check"
                      ng-class="finder.sortUpdated()"></i><span
                      translate="DASHBOARD.sort.lastUpdatedOnTS"></span></a>
                  </li>
                </ul>
              </div>
            </li>
            <li>
              <div ng-if="finder.isSearching" class="search-result"></div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="modal-body scrollable-content" ng-if="finder.isGridView()" cedar-infinite-scroll load-more="finder.loadMore()">
      <section class="all-items-view " ng-class="as-modal">
        <div class="container-fluid">
          <div class="populate-form-boxes">
            <div class="grid-view">

              <!-- show the folders first -->
              <div ng-show="!finder.isSearching" class="group">
                <div ng-if="finder.isFolder(resource)"
                    class="form-box-container folder"
                    ng-class="{ selected: finder.isResourceSelected(resource) }"
                    ng-repeat="(index, resource) in finder.resources">


                  <div ng-click="finder.selectResource(resource)"
                      ng-dblclick="finder.openResource(resource)"
                      class="form-box  ">
                    <div class="box-content text-center folder">
                      <div class="folderIconContainer">
                        <i style="font-size:20px" class="fa" ng-class="finder.getResourceIconClass(resource)"></i>
                      </div>
                      <div class="folderTitle">{{ resource['schema:name'] }}</div>

                    </div>
                  </div>
                </div>
              </div>

              <!-- then the elements -->
              <div class="group">
                <div ng-if="!finder.isFolder(resource)"
                    class="form-box-container"
                    ng-class="{ selected: finder.isResourceSelected(resource) }"
                    ng-repeat="(index, resource) in finder.resources">

                  <div
                      ng-click="finder.selectResource(resource)"
                      ng-dblclick="finder.openResource(resource)"
                      class="form-box">

                    <div class="box-content text-center " ng-class="finder.getResourceTypeClass(resource)">

                      <div class="title-icon"><i class="fa"
                          ng-class="finder.getResourceIconClass(resource)"></i>

                      </div>
                      <div class="title">
                        {{ resource['schema:name'] }}
                      </div>

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
    <div class="modal-body scrollable-content" cedar-infinite-scroll load-more="finder.loadMore()" ng-if="finder.isListView()">
      <section class="all-items-view " ng-class="as-modal">
        <div class="populate-form-boxes">
          <div class="list-view">


            <div class="list-side ">
              <!-- group by kind -->
              <!-- folders -->
              <div ng-show="!finder.isSearching && finder.hasFolders()" class="category" translate>GENERIC.Folders
              </div>
              <div ng-show="!finder.isSearching" ng-if="finder.isFolder(resource)" class="box-row"
                  ng-class="{ selected: finder.isResourceSelected(resource) }"
                  ng-click="finder.selectResource(resource)"
                  ng-dblclick="finder.openResource(resource)"
                  ng-repeat="(index, resource) in finder.getFolders()">

                <span class="cell">
                  <i class="btn btn-sm btn-info btn-circle large-icon fa " ng-class="finder.getResourceIconClass(resource)" aria-hidden="true"></i></span>
                <span class="cell resource">{{ resource['schema:name'] }}</span>
              </div>
              <!-- elements -->
              <div ng-show="finder.hasElements()" class="category" translate>GENERIC.Elements</div>
              <div ng-if="!finder.isFolder(resource)" class="box-row"
                  ng-class="{ selected: finder.isResourceSelected(resource) }"
                  ng-click="finder.selectResource(resource)"
                  ng-dblclick="finder.openResource(resource)"
                  ng-repeat="(index, resource) in finder.getElements()">

                <span class="cell">
                  <i class="btn btn-sm btn-info btn-circle large-icon fa "  ng-class="finder.getResourceIconClass(resource)" aria-hidden="true"></i></span>
                <span class="cell resource">{{ resource['schema:name'] }}</span>
              </div>
            </div>


            <div class="info-side">
              <div class="info" ng-if="finder.selectedResource">
                <div class="title-icon" ng-class="finder.selectedResource.nodeType"><i
                    class="fa"
                    ng-class="finder.getResourceIconClass(finder.selectedResource)"></i>
                </div>
                <div class="title" ng-class="finder.selectedResource.nodeType">
                  {{ finder.selectedResource['schema:name'] }}
                </div>
                <table class="table-details" >

                  <tbody>
                  <tr>
                    <td class="label">Location</td>
                    <td>{{ finder.selectedResource.path }}</td>
                  </tr>
                  <tr>
                    <td class="label">Owner</td>
                    <td>{{ finder.selectedResource.ownedByUserName }}</td>
                  </tr>
                  <tr>
                    <td class="label">Modified</td>
                    <td>
                      <span class="no-wrap">{{ finder.selectedResource.lastUpdatedOnTS | prettyDate }}</span>
                      by
                      <span class="no-wrap">{{ finder.selectedResource.lastUpdatedByUserName }}</span>
                    </td>
                  </tr>
                  <tr>
                    <td class="label">Created</td>
                    <td>
                      <span class="no-wrap">{{ finder.selectedResource.createdOnTS | prettyDate }}</span>
                      by
                      <span class="no-wrap">{{ finder.selectedResource.createdByUserName }}</span>
                    </td>
                  </tr>
                  <tr >
                    <td class="label">Publicly readable</td>
                    <td>{{ finder.selectedResource.isPubliclyReadable }}</td>
                    </td>
                  </tr>
                  <tr >

                    <td class="label">Publicly writable</td>
                    <td>{{ finder.selectedResource.isPubliclyWritable }}</td>
                    </td>
                  </tr>
                  <tr>
                    <td  colspan="2" class="description">{{ finder.selectedResource['schema:description'] }}</td>
                  </tr>
                  </tbody>
                </table>
                <!--<div class="description">-->
                  <!--<div class="description-text">-->
                    <!--{{ finder.selectedResource['schema:description'] }}-->
                  <!--</div>-->
                <!--</div>-->
              </div>
              <div class="info" ng-if="!finder.selectedResource">
                <div class="no-title" translate>GENERIC.SelectToViewDetails</div>
              </div>
            </div>



          </div>

        </div>

      </section>
    </div>

    <div class="modal-footer actions" >
      <div class="row">
        <div class="col-lg-8 breadcrumbs-sb ">
          <p ng-show="!finder.isSearching" class="not-searching">
          <span ng-repeat="folder in finder.pathInfo" >
              <a ng-click="finder.goToFolder(folder['@id'])"
                  class="breadcrumbs browsing">{{finder.breadcrumbName(folder['schema:name'])}}</a> /
            </span>
            <a class="breadcrumbs browsing">{{finder.breadcrumbName(finder.currentPath['schema:name'])}}</a>
          </p>

          <p ng-show="finder.isSearching && finder.hasSelection()" class="searching">
          <span ng-repeat="folder in finder.selectedPathInfo" >
              <a ng-click="finder.goToFolder(folder['@id'])" ng-model="folder"
                  class="breadcrumbs">{{finder.breadcrumbName(folder['schema:name'])}}</a> <span ng-show="!$last">/</span>
            </span>
          </p>
        </div>
        <div class="col-lg-4 ">
          <div class=" clear-save">
            <button data-dismiss="modal" type="cancel" class="btn btn-clear canc">Cancel</button>
            <button ng-disabled="!finder.hasSelection()" class="btn btn-save subm" ng-click="finder.openResource()">Open</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
