<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header" id="finderModalHeader">
      <div class="row toolbar">
        <div class="col-sm-8 col-sm-offset-2">
          <form id="finder-search-form">
            <div class="form-group  floating-label-wrapper">
              <input autocomplete="off" ng-keyup="$event.keyCode == 13 && finder.search(finder.searchTerm)"
                     type="search"
                     class="form-control search-input"
                     id="finder-search-input" placeholder="Search" aria-label="Search" ng-model="finder.searchTerm"/>
              <a class="clear do-search" ng-click="finder.search(finder.searchTerm)"><i class="fa fa-search"></i></a>
              <a class="clear clear-search" ng-show="finder.searchTerm" ng-click="finder.search('')">
                <span class="fa fa-remove"></span></a>
            </div>
          </form>
        </div>
        <div class="col-sm-2 ">
          <ul class="list-inline ">
            <!--            <li>-->
            <!--              <button-->
            <!--                  class="tool grid-view"-->
            <!--                  type="button"-->
            <!--                  uib-tooltip="{{'HELP.viewAsGrid' | translate}}"-->
            <!--                  tooltip-trigger-->
            <!--                  tooltip-animation="false"-->
            <!--                  tooltip-placement="bottom"-->
            <!--                  data-toggle="tooltip"-->
            <!--                  ng-if="finder.isListView()"-->
            <!--                  ng-click="finder.toggleView()"><i class="fa fa-th"></i></button>-->
            <!--            </li>-->
            <!--            <li>-->
            <!--              <button type="button"-->
            <!--                  class="tool list-view"-->
            <!--                  uib-tooltip="{{'HELP.viewAsList' | translate}}"-->
            <!--                  tooltip-trigger-->
            <!--                  tooltip-animation="false"-->
            <!--                  tooltip-placement="bottom"-->
            <!--                  data-toggle="tooltip"-->
            <!--                  ng-if="finder.isGridView()"-->
            <!--                  ng-click="finder.toggleView()"><i-->
            <!--                  class="fa fa-list-ul"></i></button>-->
            <!--            </li>-->
            <li>
              <div class="btn-group dropdown">
                <button data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><i
                    class="fa fa-sort  inline "></i></button>
                <ul class="dropdown-menu dropdown-menu-left">
                  <li class="sort-by-name"><a ng-click="finder.setSortByName()"><i class="fa fa-check"
                                                                                   ng-class="finder.sortName()"></i><span
                      translate="DASHBOARD.sort.name"></span></a></li>
                  <li class="sort-by-created"><a ng-click="finder.setSortByCreated()"><i class="fa fa-check"
                                                                                         ng-class="finder.sortCreated()"></i><span
                      translate="DASHBOARD.sort.createdOnTS"></span></a></li>
                  <li class="sort-by-updated"><a ng-click="finder.setSortByUpdated()"><i class="fa fa-check"
                                                                                         ng-class="finder.sortUpdated()"></i><span
                      translate="DASHBOARD.sort.lastUpdatedOnTS"></span></a>
                  </li>
                </ul>
              </div>
            </li>
            <li>
              <div ng-if="finder.isSearching" class="search-result"></div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!--    <div class="modal-body scrollable-content" ng-if="finder.isGridView()" cedar-infinite-scroll-->
    <!--         load-more="finder.loadMore()">-->
    <!--      <section class="all-items-view " ng-class="as-modal">-->
    <!--        <div class="container-fluid">-->
    <!--          <div class="populate-form-boxes">-->
    <!--            <div class="grid-view">-->

    <!--              <div ng-show="!finder.hasElementsOrFields() && !finder.hasFolders()">-->
    <!--                <div class="row no-file">-->
    <!--                  <div class="col-sm-12 center"><i class="fa fa-file"></i></div>-->
    <!--                </div>-->
    <!--                <div class="row no-message">-->
    <!--                  <div class="col-sm-12 center" translate>Nothing found</div>-->
    <!--                </div>-->
    <!--              </div>-->

    <!--              &lt;!&ndash; show the folders first &ndash;&gt;-->
    <!--              <div ng-if="finder.isFolder(resource)" class="form-box-container"-->
    <!--                   ng-class="{ selected: finder.isResourceSelected(resource) }"-->
    <!--                   ng-repeat="(index, resource) in finder.resources">-->

    <!--                <div ng-click="finder.selectResource(resource)"-->
    <!--                     ng-dblclick="finder.goToResource(resource)" class="form-box resource-instance"-->
    <!--                     ng-class="finder.getResourceTypeClass(resource)">-->
    <!--                  <div class="box-content text-center " ng-class="finder.getResourceTypeClass(resource)">-->

    <!--                    <div class="toolbar">-->
    <!--                      <cedar-resource-icon resource-type="resource.resourceType"></cedar-resource-icon>-->
    <!--                    </div>-->

    <!--                    <div class="title-container">-->
    <!--                      <div class="title-text">{{ finder.getTitle(resource) }}</div>-->
    <!--                    </div>-->

    <!--                  </div>-->
    <!--                </div>-->
    <!--              </div>-->

    <!--              <br/>-->

    <!--              &lt;!&ndash; then the other resources &ndash;&gt;-->
    <!--              <div ng-if="!finder.isFolder(resource)"-->
    <!--                   class="form-box-container" ng-class="{ selected: finder.isResourceSelected(resource) }"-->
    <!--                   ng-repeat="(index, resource) in finder.resources">-->

    <!--                <div ng-click="finder.selectResource(resource)"-->
    <!--                     ng-dblclick="finder.openResource(resource)"-->
    <!--                     class="form-box resource-instance"-->
    <!--                     ng-class="dc.getResourceTypeClass(resource)">-->
    <!--                  <div class="box-content text-center" ng-class="finder.getResourceTypeClass(resource)">-->

    <!--                    <div class="toolbar">-->
    <!--                      <cedar-resource-icon resource-type="resource.resourceType"></cedar-resource-icon>-->
    <!--                    </div>-->

    <!--                    <div class="title-container">-->
    <!--                      <div class="title-text">{{ finder.getTitle(resource) }}</div>-->

    <!--                      <div ng-if="finder.isPublished(resource)">-->
    <!--                        <hr style="margin:0;padding:0"/>-->
    <!--                        <i class="action fa fa-globe"></i> {{finder.getResourceVersion(resource)}}-->
    <!--                      </div>-->
    <!--                      <div ng-if="!finder.isPublished(resource) && finder.getResourceVersion(resource) != '0.0.1'">-->
    <!--                        <hr style="margin:0;padding:0"/>-->
    <!--                        {{finder.getResourceVersion(resource)}}-->
    <!--                      </div>-->
    <!--                    </div>-->

    <!--                  </div>-->
    <!--                </div>-->
    <!--              </div>-->
    <!--            </div>-->
    <!--          </div>-->
    <!--        </div>-->
    <!--      </section>-->
    <!--    </div>-->

    <!--    <div class="modal-body scrollable-content" style="overflow-y:scroll" ng-if="finder.isListView()"-->
    <!--         cedar-infinite-scroll load-more="finder.loadMore()">-->
    <div class="modal-body">

      <!--      <section class="all-items-view" ng-class="as-modal">-->

      <div class="container-fluid">

        <div class="row">
          <!-- Left column (category tree)-->
          <div class="col-sm-3 filters-panel">
            <ul class="list-unstyled">
              <li>{{'GENERIC.Categories' | translate}}
                <ul id="filter-resource-category" class="list-inline">
                  <li ng-if="!finder.categoryTreeAvailable">
                    <div class="latest no-select">
                      <i class="btn fa" ng-class="finder.getLatestIcon()"></i>{{'GENERIC.Loading' | translate}}
                    </div>
                  </li>
                  <li ng-if="finder.categoryTreeAvailable">
                    <div class="latest no-select">
                      <div ng-controller="categoryTreeController" class="category-tree-container">
                        <category-tree helper="categoryTreeHelper" category="finder.categoryTree"
                                       callback="finder.categorySearch"></category-tree>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
          <!-- Center column (resources)-->
          <div class="col-sm-5 results-panel" id="results-panel-id">

            <div ng-show="!finder.hasElementsOrFields() && !finder.hasFolders()">
              <div class="row no-file">
                <div class="col-sm-12 center"><i class="fa fa-file"></i></div>
              </div>
              <div class="row no-message">
                <div class="col-sm-12 center" translate>Nothing found</div>
              </div>
            </div>

            <div
                 ng-show="!finder.isSearching" ng-if="finder.isFolder(resource)" class="box-row"
                 ng-class="{ selected: finder.isResourceSelected(resource) }"
                 ng-click="finder.selectResource(resource)"
                 ng-dblclick="finder.openResource(resource)"
                 ng-repeat="(index, resource) in finder.getFolders()">

              <div class="outer flex resource-instance" ng-class="finder.getResourceTypeClass(resource)">
                <div class="flex ellipsis" style="justify-content:space-between">
                  <cedar-resource-icon resource-type="resource.resourceType"></cedar-resource-icon>
                  <div id="{{finder.getId(resource, 'row')}}"
                      class="ellipsis" style="width:100%"
                       uib-tooltip='{{finder.getTitle(resource)}}'
                       tooltip-append-to-body="true"
                       tooltip-trigger="mouseenter"
                       tooltip-animation="false"
                       tooltip-placement="bottom"
                       data-toggle="tooltip"
                       tooltip-enable="finder.isOverflow(resource, 'row')"
                  > {{ finder.getTitle(resource)}}</div>
                </div>

              </div>
            </div>

            <div
                 ng-if="!finder.isFolder(resource)" class="box-row"
                 ng-class="{ selected: finder.isResourceSelected(resource) }"
                 ng-click="finder.selectResource(resource)"
                 ng-dblclick="finder.openResource(resource)"
                 ng-repeat="(index, resource) in finder.getElementsAndFields()">

              <div
                   class="outer flex resource-instance"
                   ng-class="finder.getResourceTypeClass(resource)">
                <div class="flex ellipsis" style="justify-content:space-between">
                  <cedar-resource-icon resource-type="resource.resourceType"></cedar-resource-icon>
                  <div id="{{finder.getId(resource, 'row')}}" class="ellipsis" style="width:100%"
                       uib-tooltip='{{finder.getTitle(resource)}}'
                       tooltip-append-to-body="true"
                       tooltip-trigger="mouseenter"
                       tooltip-animation="false"
                       tooltip-placement="bottom"
                       data-toggle="tooltip"
                       tooltip-enable="finder.isOverflow(resource, 'row')"
                  >{{ finder.getTitle(resource)}}</div>
                </div>

                <div style="white-space:nowrap" ng-if="finder.isPublished(resource)"><i
                    class="action fa fa-globe"></i> {{finder.getResourceVersion(resource)}}
                </div>
                <div ng-if="!finder.isPublished(resource) && finder.getResourceVersion(resource) != '0.0.1'">
                  {{finder.getResourceVersion(resource)}}
                </div>


              </div>
            </div>
          </div>
          <!-- Right column (info panel)-->
          <div class="col-sm-4 info-panel">

            <div class="info" ng-if="finder.selectedResource">

              <div class="title flex resource-instance"
                   ng-class="finder.getResourceTypeClass(finder.selectedResource)">
                <div class="flex ellipsis" style="justify-content:space-between">
                  <cedar-resource-icon resource-type="finder.selectedResource.resourceType"></cedar-resource-icon>
                  <div class="ellipsis" style="width:100%"> {{ finder.getTitle(finder.selectedResource)}}</div>
                </div>
              </div>

              <table class="table-details">

                <tbody>
                <tr>
                  <td class="label">Location</td>
                  <td>{{ finder.selectedResource.path }}</td>
                </tr>
                <tr>
                  <td class="label">Owner</td>
                  <td>{{ finder.selectedResource.ownedByUserName }}</td>
                </tr>
                <tr>
                  <td class="label">Created</td>
                  <td>
                    <span class="no-wrap">{{ finder.selectedResource['pav:createdOn'] | prettyDate }}</span>
                    by
                    <span class="no-wrap">{{ finder.selectedResource.createdByUserName }}</span>
                  </td>
                </tr>
                <tr>
                  <td class="label">Modified</td>
                  <td>
                    <span class="no-wrap">{{ finder.selectedResource['pav:lastUpdatedOn'] | prettyDate }}</span>
                    by
                    <span class="no-wrap">{{ finder.selectedResource.lastUpdatedByUserName }}</span>
                  </td>
                </tr>
                <tr>
                  <td class="label">Permission</td>
                  <td>
                          <span ng-if="finder.canRead()" class="can-read ellipsis"><i
                              class="fa fa-check"></i>read </span>
                    <span ng-if="finder.canWrite()" class="can-write ellipsis"><i
                        class="fa fa-check"></i>write </span>
                    <span ng-if="finder.canChangeOwner()" class="can-change-owner ellipsis"><i
                        class="fa fa-check"></i>owner</span></td>
                </tr>
                <tr ng-if="finder.isPublished(finder.selectedResource) || (!finder.isPublished(finder.selectedResource) && finder.getResourceVersion(finder.selectedResource) != '0.0.1')">
                  <td class="label">Version</td>
                  <td>
                    <div style="white-space:nowrap" ng-if="finder.isPublished(finder.selectedResource)"><i
                        class="action fa fa-globe"></i> {{finder.getResourceVersion(finder.selectedResource)}}
                    </div>
                    <div
                        ng-if="!finder.isPublished(finder.selectedResource) && finder.getResourceVersion(finder.selectedResource) != '0.0.1'">
                      {{finder.getResourceVersion(finder.selectedResource)}}
                    </div>
                  </td>
                </tr>
                <tr>
                  <td colspan="2" class="description">{{ finder.selectedResource['schema:description'] }}</td>
                </tr>
                </tbody>
              </table>

            </div>
            <div class="info" ng-if="!finder.selectedResource">
              <div class="no-title" translate>GENERIC.SelectToViewDetails</div>
            </div>

          </div>
        </div>
      </div>

      <!--        <div class="populate-form-boxes">-->
      <!--          <div class="list-view">-->

      <!--            <div class="info-side">-->
      <!--              <div class="info" ng-if="finder.selectedResource" >-->

      <!--                <div class="title flex resource-instance" ng-class="finder.getResourceTypeClass(finder.selectedResource)">-->
      <!--                  <div class="flex ellipsis" style="justify-content:space-between">-->
      <!--                    <cedar-resource-icon resource-type="finder.selectedResource.resourceType"></cedar-resource-icon>-->
      <!--                    <div class="ellipsis" style="width:100%"> {{ finder.getTitle(finder.selectedResource)}}</div>-->
      <!--                  </div>-->
      <!--                </div>-->

      <!--                <table class="table-details">-->

      <!--                  <tbody>-->
      <!--                  <tr>-->
      <!--                    <td class="label">Location</td>-->
      <!--                    <td>{{ finder.selectedResource.path }}</td>-->
      <!--                  </tr>-->
      <!--                  <tr>-->
      <!--                    <td class="label">Owner</td>-->
      <!--                    <td>{{ finder.selectedResource.ownedByUserName }}</td>-->
      <!--                  </tr>-->
      <!--                  <tr>-->
      <!--                    <td class="label">Created</td>-->
      <!--                    <td>-->
      <!--                      <span class="no-wrap">{{ finder.selectedResource['pav:createdOn'] | prettyDate }}</span>-->
      <!--                      by-->
      <!--                      <span class="no-wrap">{{ finder.selectedResource.createdByUserName }}</span>-->
      <!--                    </td>-->
      <!--                  </tr>-->
      <!--                  <tr>-->
      <!--                    <td class="label">Modified</td>-->
      <!--                    <td>-->
      <!--                      <span class="no-wrap">{{ finder.selectedResource['pav:lastUpdatedOn'] | prettyDate }}</span>-->
      <!--                      by-->
      <!--                      <span class="no-wrap">{{ finder.selectedResource.lastUpdatedByUserName }}</span>-->
      <!--                    </td>-->
      <!--                  </tr>-->
      <!--                  <tr>-->
      <!--                    <td class="label">Permission</td>-->
      <!--                    <td>-->
      <!--                      <span ng-if="finder.canRead()" class="can-read ellipsis"><i class="fa fa-check"></i>read </span>-->
      <!--                      <span ng-if="finder.canWrite()" class="can-write ellipsis"><i-->
      <!--                          class="fa fa-check"></i>write </span>-->
      <!--                      <span ng-if="finder.canChangeOwner()" class="can-change-owner ellipsis"><i-->
      <!--                          class="fa fa-check"></i>owner</span></td>-->
      <!--                  </tr>-->
      <!--                  <tr ng-if="finder.isPublished(finder.selectedResource) || (!finder.isPublished(finder.selectedResource) && finder.getResourceVersion(finder.selectedResource) != '0.0.1')">-->
      <!--                    <td class="label">Version</td>-->
      <!--                    <td>-->
      <!--                      <div style="white-space:nowrap" ng-if="finder.isPublished(finder.selectedResource)"><i class="action fa fa-globe"></i> {{finder.getResourceVersion(finder.selectedResource)}}</div>-->
      <!--                      <div ng-if="!finder.isPublished(finder.selectedResource) && finder.getResourceVersion(finder.selectedResource) != '0.0.1'" >{{finder.getResourceVersion(finder.selectedResource)}}</div>-->
      <!--                    </td>-->
      <!--                  </tr>-->
      <!--                  <tr>-->
      <!--                    <td colspan="2" class="description">{{ finder.selectedResource['schema:description'] }}</td>-->
      <!--                  </tr>-->
      <!--                  </tbody>-->
      <!--                </table>-->

      <!--              </div>-->
      <!--              <div class="info" ng-if="!finder.selectedResource">-->
      <!--                <div class="no-title" translate>GENERIC.SelectToViewDetails</div>-->
      <!--              </div>-->
      <!--            </div>-->

      <!--            <div class="list-side">-->

      <!--              <div ng-show="!finder.hasElementsOrFields() && !finder.hasFolders()"   >-->
      <!--                <div class="row no-file">-->
      <!--                  <div class="col-sm-12 center"><i class="fa fa-file"></i></div>-->
      <!--                </div>-->
      <!--                <div class="row no-message">-->
      <!--                  <div class="col-sm-12 center" translate>Nothing found</div>-->
      <!--                </div>-->
      <!--              </div>-->

      <!--              <div ng-show="!finder.isSearching" ng-if="finder.isFolder(resource)" class="box-row"-->
      <!--                  ng-class="{ selected: finder.isResourceSelected(resource) }"-->
      <!--                  ng-click="finder.selectResource(resource)"-->
      <!--                  ng-dblclick="finder.openResource(resource)"-->
      <!--                  ng-repeat="(index, resource) in finder.getFolders()">-->


      <!--                <div class="outer flex resource-instance" ng-class="finder.getResourceTypeClass(resource)">-->
      <!--                  <div class="flex ellipsis" style="justify-content:space-between">-->
      <!--                    <cedar-resource-icon resource-type="resource.resourceType"></cedar-resource-icon>-->
      <!--                    <div class="ellipsis" style="width:100%"> {{ finder.getTitle(resource)}}</div>-->
      <!--                  </div>-->

      <!--                </div>-->
      <!--              </div>-->

      <!--              <div ng-if="!finder.isFolder(resource)" class="box-row"-->
      <!--                  ng-class="{ selected: finder.isResourceSelected(resource) }"-->
      <!--                  ng-click="finder.selectResource(resource)"-->
      <!--                  ng-dblclick="finder.openResource(resource)"-->
      <!--                  ng-repeat="(index, resource) in finder.getElementsAndFields()">-->

      <!--                <div class="outer flex resource-instance" ng-class="finder.getResourceTypeClass(resource)">-->
      <!--                  <div class="flex ellipsis" style="justify-content:space-between">-->
      <!--                    <cedar-resource-icon resource-type="resource.resourceType"></cedar-resource-icon>-->
      <!--                    <div class="ellipsis" style="width:100%">{{ finder.getTitle(resource)}}</div>-->
      <!--                  </div>-->

      <!--                  <div style="white-space:nowrap" ng-if="finder.isPublished(resource)"><i class="action fa fa-globe"></i> {{finder.getResourceVersion(resource)}}</div>-->
      <!--                  <div ng-if="!finder.isPublished(resource) && finder.getResourceVersion(resource) != '0.0.1'" >{{finder.getResourceVersion(resource)}}</div>-->
      <!--                </div>-->
      <!--              </div>-->

      <!--            </div>-->
      <!--          </div>-->
      <!--        </div>-->
      <!--      </section>-->
    </div>

    <div class="modal-footer actions">
      <div class="row">
        <div class="col-lg-8 breadcrumbs-sb ">
          <p ng-show="!finder.isSearching" class="not-searching">
          <span ng-repeat="folder in finder.pathInfo">
              <a ng-click="finder.goToFolder(folder['@id'])"
                 class="breadcrumbs browsing">{{finder.breadcrumbName(folder['schema:name'])}}</a> /
            </span>
            <a class="breadcrumbs browsing">{{finder.breadcrumbName(finder.currentPath['schema:name'])}}</a>
          </p>

          <p ng-show="finder.isSearching" class="searching"> {{finder.buildBreadcrumbTitle(finder.params.search)}}</p>
        </div>
        <div class="col-lg-4 ">
          <div class=" clear-save">
            <button data-dismiss="modal" type="cancel" class="btn btn-clear canc">Cancel</button>
            <button ng-disabled="!finder.hasSelection()" class="btn btn-save subm" ng-click="finder.openResource()">
              Select
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
